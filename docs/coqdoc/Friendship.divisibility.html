<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Friendship.divisibility</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ssreflect</span> <span class="id" title="library">ssrfun</span> <span class="id" title="library">ssrbool</span> <span class="id" title="library">eqtype</span> <span class="id" title="library">ssrnat</span> <span class="id" title="library">ssrint</span> .<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">fintype</span> <span class="comment">(*tuple&nbsp;*)</span> <span class="id" title="library">finfun</span> <span class="id" title="library">bigop</span>  <span class="comment">(*fingroup&nbsp;perm*)</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ssralg</span> <span class="id" title="library">zmodp</span> <span class="id" title="library">matrix</span> <span class="id" title="library">mxalgebra</span> <span class="id" title="library">poly</span> <span class="comment">(*&nbsp;polydiv&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="library">mxpoly</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">algC</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Hammer</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Tactics</span> .<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Hammer</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Hammer</span> .<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Friendship.bigops.html#"><span class="id" title="library">Friendship.bigops</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Friendship.adj2_matrix.html#"><span class="id" title="library">Friendship.adj2_matrix</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Friendship.matrix_lemmas.html#"><span class="id" title="library">Friendship.matrix_lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>

<br/>
<span class="comment">(*Import&nbsp;GroupScope.*)</span><br/>
<span class="id" title="keyword">Import</span> <span class="id" title="module">GRing.Theory</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">ring_scope</span>.<br/>
<span class="comment">(*Local&nbsp;Open&nbsp;Scope&nbsp;order_scope.*)</span><br/>
<span class="comment">(*Import&nbsp;order.Order.TotalTheory.*)</span><br/>
<span class="comment">(*Import&nbsp;order.Order.POrder.*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ssrnum</span> <span class="id" title="library">closed_field</span> <span class="id" title="library">ssrint</span> <span class="id" title="library">rat</span> <span class="id" title="library">intdiv</span> <span class="id" title="library">order</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">algebraics_fundamentals</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">tuple</span> <span class="id" title="library">seq</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">div</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="div" class="idref" href="#div"><span class="id" title="section">div</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="div.n" class="idref" href="#div.n"><span class="id" title="variable">n</span></a> <a id="div.k" class="idref" href="#div.k"><span class="id" title="variable">k</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="adj2n" class="idref" href="#adj2n"><span class="id" title="definition">adj2n</span></a> := <a class="idref" href="Friendship.adj2_matrix.html#adj2"><span class="id" title="definition">adj2</span></a> <a class="idref" href="Friendship.divisibility.html#div.n"><span class="id" title="variable">n</span></a> <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="kge1:3" class="idref" href="#kge1:3"><span class="id" title="binder">kge1</span></a>: (<a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">&gt;=</span>1) %<span class="id" title="var">N</span>) (<a id="nge1:4" class="idref" href="#nge1:4"><span class="id" title="binder">nge1</span></a>: (<a class="idref" href="Friendship.divisibility.html#div.n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;=</span> 1) %<span class="id" title="var">N</span>) (<a id="A:5" class="idref" href="#A:5"><span class="id" title="binder">A</span></a>: <span class="id" title="notation">'</span><span class="id" title="notation">M</span><span class="id" title="notation">[</span><a class="idref" href="Friendship.adj2_matrix.html#R"><span class="id" title="definition">R</span></a><span class="id" title="notation">]</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span>1<span class="id" title="notation">+(</span><a class="idref" href="Friendship.divisibility.html#div.n"><span class="id" title="variable">n</span></a><span class="id" title="notation">-</span>1<span class="id" title="notation">)</span><span class="id" title="notation">)</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A_sqr:6" class="idref" href="#A_sqr:6"><span class="id" title="binder">A_sqr</span></a> : <a class="idref" href="Friendship.adj2_matrix.html#is_square_root"><span class="id" title="definition">is_square_root</span></a> <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Friendship.divisibility.html#A:5"><span class="id" title="variable">A</span></a>) (<a id="A_tr0:7" class="idref" href="#A_tr0:7"><span class="id" title="binder">A_tr0</span></a> : <span class="id" title="notation">\</span><span class="id" title="notation">tr</span> <a class="idref" href="Friendship.divisibility.html#A:5"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="nk_eq:8" class="idref" href="#nk_eq:8"><span class="id" title="binder">nk_eq</span></a>: <a class="idref" href="Friendship.divisibility.html#div.n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">*</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">+</span> 1)%<span class="id" title="var">N</span>).<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="module">Num.Theory</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Kanske&nbsp;Num.nneg&nbsp;?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vet&nbsp;också&nbsp;(x2&nbsp;\is&nbsp;Num.nneg)<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="idomain_sqrt" class="idref" href="#idomain_sqrt"><span class="id" title="lemma">idomain_sqrt</span></a> (<a id="x:9" class="idref" href="#x:9"><span class="id" title="binder">x</span></a> <a id="x2:10" class="idref" href="#x2:10"><span class="id" title="binder">x2</span></a>: <span class="id" title="abbreviation">algC</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Friendship.divisibility.html#x:9"><span class="id" title="variable">x</span></a> <span class="id" title="notation">^</span> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Friendship.divisibility.html#x2:10"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Friendship.divisibility.html#x:9"><span class="id" title="variable">x</span></a> <span class="id" title="notation">==</span> <span class="id" title="notation">(</span><span class="id" title="abbreviation">sqrtC</span> <a class="idref" href="Friendship.divisibility.html#x2:10"><span class="id" title="variable">x2</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Friendship.divisibility.html#x:9"><span class="id" title="variable">x</span></a> <span class="id" title="notation">==</span> <span class="id" title="notation">-</span> <span class="id" title="notation">(</span><span class="id" title="abbreviation">sqrtC</span> <a class="idref" href="Friendship.divisibility.html#x2:10"><span class="id" title="variable">x2</span></a><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>; <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">x2_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">x2_eq'</span> : (<span class="id" title="var">x</span> <span class="id" title="notation">^+</span> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x2</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">sauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">sqrs</span> : <span class="id" title="notation">(</span><span class="id" title="var">x</span> <span class="id" title="notation">-</span> <span class="id" title="notation">(</span><span class="id" title="abbreviation">sqrtC</span> <span class="id" title="var">x2</span><span class="id" title="notation">)</span><span class="id" title="notation">)</span> <span class="id" title="notation">*</span> <span class="id" title="notation">(</span><span class="id" title="var">x</span> <span class="id" title="notation">+</span> <span class="id" title="notation">(</span><span class="id" title="abbreviation">sqrtC</span> <span class="id" title="var">x2</span><span class="id" title="notation">)</span><span class="id" title="notation">)</span> <span class="id" title="notation">==</span> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="definition">subr_sqr</span> <span class="id" title="var">x2_eq'</span> <span class="id" title="lemma">sqrtCK</span>  <span class="id" title="definition">subr_eq0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">mulf_eq0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sqrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">sqrs</span>; <span class="id" title="tactic">move</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a> [<span class="id" title="var">root</span>|<span class="id" title="var">root</span>]; [<span class="id" title="tactic">left</span> |<span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="definition">subr_eq0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="definition">subr_eq0</span> <span class="id" title="definition">opprK</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="all2_nseq" class="idref" href="#all2_nseq"><span class="id" title="lemma">all2_nseq</span></a> {<a id="T:11" class="idref" href="#T:11"><span class="id" title="binder">T</span></a>} (<a id="l:12" class="idref" href="#l:12"><span class="id" title="binder">l</span></a> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="Friendship.divisibility.html#T:11"><span class="id" title="variable">T</span></a>) <a id="P:13" class="idref" href="#P:13"><span class="id" title="binder">P</span></a> (<a id="x:14" class="idref" href="#x:14"><span class="id" title="binder">x</span></a>: <a class="idref" href="Friendship.divisibility.html#T:11"><span class="id" title="variable">T</span></a>) <a id="nn:15" class="idref" href="#nn:15"><span class="id" title="binder">nn</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">all2</span> <a class="idref" href="Friendship.divisibility.html#P:13"><span class="id" title="variable">P</span></a> <a class="idref" href="Friendship.divisibility.html#l:12"><span class="id" title="variable">l</span></a> (<span class="id" title="definition">nseq</span> <a class="idref" href="Friendship.divisibility.html#nn:15"><span class="id" title="variable">nn</span></a> <a class="idref" href="Friendship.divisibility.html#x:14"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">all</span> (<span class="id" title="keyword">fun</span> <a id="li:16" class="idref" href="#li:16"><span class="id" title="binder">li</span></a> =&gt; <a class="idref" href="Friendship.divisibility.html#P:13"><span class="id" title="variable">P</span></a> <a class="idref" href="Friendship.divisibility.html#li:16"><span class="id" title="variable">li</span></a> <a class="idref" href="Friendship.divisibility.html#x:14"><span class="id" title="variable">x</span></a>) <a class="idref" href="Friendship.divisibility.html#l:12"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">all2E</span>; <span class="id" title="tactic">move</span>: <span class="id" title="var">nn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">l</span> =&gt; [<span class="id" title="var">nn</span>| <span class="id" title="var">l0</span> <span class="id" title="var">l</span> <span class="id" title="var">indH</span> <span class="id" title="var">nn</span> <span class="id" title="var">allH</span>] //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">allH</span>; <span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">sz</span> <span class="id" title="var">allH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#elimT"><span class="id" title="lemma">elimT</span></a> <span class="id" title="lemma">eqP</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">sz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">nn</span> <span class="id" title="var">sz</span> <span class="id" title="var">allH</span> =&gt; [| <span class="id" title="var">nn</span>] <span class="id" title="var">sz</span> <span class="id" title="var">allH</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">sauto</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">allH</span>; <span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">pl0x</span> <span class="id" title="var">allH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#introT"><span class="id" title="lemma">introT</span></a> <span class="id" title="lemma">eqP</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">sz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">pl0x</span>  (<span class="id" title="var">indH</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#introT"><span class="id" title="lemma">introT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">sz</span> <span class="id" title="var">allH</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="sum_of_roots" class="idref" href="#sum_of_roots"><span class="id" title="lemma">sum_of_roots</span></a> (<a id="77d2854ae348e01c2be818c216cc0739" class="idref" href="#77d2854ae348e01c2be818c216cc0739"><span class="id" title="binder">μs</span></a> : <span class="id" title="abbreviation">seq</span> <span class="id" title="abbreviation">algC</span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="a:19" class="idref" href="#a:19"><span class="id" title="binder">a</span></a> := <span class="id" title="keyword">fun</span> (<a id="i:18" class="idref" href="#i:18"><span class="id" title="binder">i</span></a>: <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><span class="id" title="definition">size</span> <a class="idref" href="Friendship.divisibility.html#77d2854ae348e01c2be818c216cc0739"><span class="id" title="variable">μs</span></a><span class="id" title="notation">)</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">tnth</span> (<span class="id" title="definition">in_tuple</span> <a class="idref" href="Friendship.divisibility.html#77d2854ae348e01c2be818c216cc0739"><span class="id" title="variable">μs</span></a>) <a class="idref" href="Friendship.divisibility.html#i:18"><span class="id" title="variable">i</span></a> <span class="id" title="notation">==</span> <span class="id" title="abbreviation">sqrtC</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">all2</span> (<span class="id" title="keyword">fun</span> <a id="9a5f82bf14e2d9fa7ef57f7e19185de2" class="idref" href="#9a5f82bf14e2d9fa7ef57f7e19185de2"><span class="id" title="binder">μ</span></a> <a id="22d963e7489ae2df22474e1f7e7a9508" class="idref" href="#22d963e7489ae2df22474e1f7e7a9508"><span class="id" title="binder">λ</span></a> =&gt; <a class="idref" href="Friendship.divisibility.html#9a5f82bf14e2d9fa7ef57f7e19185de2"><span class="id" title="variable">μ</span></a><span class="id" title="notation">^</span>2 <span class="id" title="notation">==</span> <a class="idref" href="Friendship.divisibility.html#22d963e7489ae2df22474e1f7e7a9508"><span class="id" title="variable">λ</span></a>) <a class="idref" href="Friendship.divisibility.html#77d2854ae348e01c2be818c216cc0739"><span class="id" title="variable">μs</span></a> (<span class="id" title="definition">nseq</span> (<a class="idref" href="Friendship.divisibility.html#div.n"><span class="id" title="variable">n</span></a><span class="id" title="notation">-</span>1) <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">sum_</span><span class="id" title="notation">(</span><a id="a2a522a6e574dd733151ef85e564dfec" class="idref" href="#a2a522a6e574dd733151ef85e564dfec"><span class="id" title="binder">μ</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Friendship.divisibility.html#77d2854ae348e01c2be818c216cc0739"><span class="id" title="variable">μs</span></a><span class="id" title="notation">)</span> <a class="idref" href="Friendship.divisibility.html#cc1e75c6f0d857f62fd72a8bc1c0288a"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="abbreviation">sqrtC</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">*+</span> <span class="id" title="definition">count</span> <a class="idref" href="Friendship.divisibility.html#a:19"><span class="id" title="variable">a</span></a> (<span class="id" title="definition">index_enum</span> (<span class="id" title="definition">ordinal_finType</span> (<span class="id" title="definition">size</span> <a class="idref" href="Friendship.divisibility.html#77d2854ae348e01c2be818c216cc0739"><span class="id" title="variable">μs</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">-</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="abbreviation">sqrtC</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span><span class="id" title="notation">)</span> <span class="id" title="notation">*+</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">count</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">o</span></a> <a class="idref" href="Friendship.divisibility.html#a:19"><span class="id" title="variable">a</span></a>) (<span class="id" title="definition">index_enum</span> (<span class="id" title="definition">ordinal_finType</span> (<span class="id" title="definition">size</span> <a class="idref" href="Friendship.divisibility.html#77d2854ae348e01c2be818c216cc0739"><span class="id" title="variable">μs</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">nge1</span> <span class="id" title="var">A</span> <span class="id" title="var">A_sqr</span> <span class="id" title="var">A_tr0</span> <span class="id" title="var">nk_eq</span>. <span class="comment">(*&nbsp;prbl&nbsp;don't&nbsp;need&nbsp;k&nbsp;&gt;=&nbsp;1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">all2_squares</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">all_squares</span>  := (<a class="idref" href="Friendship.divisibility.html#all2_nseq"><span class="id" title="lemma">all2_nseq</span></a> <span class="id" title="var">all2_squares</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">all2_squares</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_tnth</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">a</span> := <span class="id" title="keyword">fun</span> (<a id="i:27" class="idref" href="#i:27"><span class="id" title="binder">i</span></a>: <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><span class="id" title="definition">size</span> <span class="id" title="var">μs</span><span class="id" title="notation">)</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">tnth</span> (<span class="id" title="definition">in_tuple</span> <span class="id" title="var">μs</span>) <a class="idref" href="Friendship.divisibility.html#i:25"><span class="id" title="variable">i</span></a> <span class="id" title="notation">==</span> <span class="id" title="abbreviation">sqrtC</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">F</span>  := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> (<a id="b:30" class="idref" href="#b:30"><span class="id" title="binder">b</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="Friendship.divisibility.html#b:28"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="abbreviation">sqrtC</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="notation">-</span><span class="id" title="abbreviation">sqrtC</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="abbreviation">algC</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<span class="id" title="lemma">eq_bigr</span> <span class="id" title="abbreviation">algC</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="i:33" class="idref" href="#i:33"><span class="id" title="binder">i</span></a> =&gt; <span class="id" title="var">F</span> (<span class="id" title="var">a</span> <a class="idref" href="Friendship.divisibility.html#i:31"><span class="id" title="variable">i</span></a>))); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">i</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">F</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">tnth_nth</span> 0) //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">sqr</span> : <span class="id" title="var">μs</span><span class="id" title="notation">`</span><span class="id" title="notation">_i</span> <span class="id" title="notation">^</span>2 <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">i</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">m</span> <span class="id" title="var">m_leμ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#elimT"><span class="id" title="lemma">elimT</span></a> (@<span class="id" title="lemma">all_nthP</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="li:36" class="idref" href="#li:36"><span class="id" title="binder">li</span></a> : <span class="id" title="abbreviation">algC</span> =&gt; <a class="idref" href="Friendship.divisibility.html#li:34"><span class="id" title="variable">li</span></a> <span class="id" title="notation">^</span> 2 <span class="id" title="notation">==</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">μs</span> 0) <span class="id" title="var">all_squares</span> <span class="id" title="var">m</span> <span class="id" title="var">m_leμ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">sqr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="Friendship.divisibility.html#idomain_sqrt"><span class="id" title="lemma">idomain_sqrt</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a> (<span class="id" title="var">μs</span><span class="id" title="notation">`</span><span class="id" title="notation">_i</span> <span class="id" title="notation">==</span> <span class="id" title="abbreviation">sqrtC</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span>)) =&gt; [<span class="id" title="var">eq_r</span> <span class="id" title="var">_</span>| <span class="id" title="var">neq_r</span> <span class="id" title="var">fls_if</span>]. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">fls_if</span>; <span class="id" title="tactic">rewrite</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">all_squares</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="Friendship.bigops.html#big_bool"><span class="id" title="lemma">big_bool</span></a> <span class="id" title="var">_</span> <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><span class="id" title="definition">size</span> <span class="id" title="var">μs</span><span class="id" title="notation">)</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">F</span> ).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">npos</span> := <span class="id" title="definition">count</span> <span class="id" title="var">a</span> (<span class="id" title="definition">index_enum</span> (<span class="id" title="definition">ordinal_finType</span> (<span class="id" title="definition">size</span> <span class="id" title="var">μs</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">nneg</span> := <span class="id" title="definition">count</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">o</span></a> <span class="id" title="var">a</span>) (<span class="id" title="definition">index_enum</span> (<span class="id" title="definition">ordinal_finType</span> (<span class="id" title="definition">size</span> <span class="id" title="var">μs</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">mulNrn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kn_1" class="idref" href="#kn_1"><span class="id" title="lemma">kn_1</span></a> : (<a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">+</span><a class="idref" href="Friendship.divisibility.html#div.n"><span class="id" title="variable">n</span></a><span class="id" title="notation">-</span>1)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">*</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {}<a class="idref" href="Friendship.divisibility.html#div.nk_eq"><span class="id" title="variable">nk_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <a class="idref" href="Friendship.divisibility.html#div.kge1"><span class="id" title="variable">kge1</span></a> <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> =&gt; /<span class="id" title="lemma">ltP</span> <span class="id" title="var">kge1'</span> [|<span class="id" title="var">k'</span>]; <span class="id" title="var">ssrnat_lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">int_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tr_adj_rel" class="idref" href="#tr_adj_rel"><span class="id" title="lemma">tr_adj_rel</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">Posz</span> (<a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">-</span>1) <span class="id" title="notation">%|</span> <span class="id" title="constructor">Posz</span> (<a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">*</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">trN</span> : <span class="id" title="notation">-</span><span class="id" title="notation">\</span><span class="id" title="notation">tr</span> <a class="idref" href="Friendship.divisibility.html#div.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0%<span class="id" title="var">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.divisibility.html#div.A_tr0"><span class="id" title="variable">A_tr0</span></a> <span class="id" title="definition">oppr0</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">zero_char_poly</span> : 0%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><span class="id" title="definition">char_poly</span> <a class="idref" href="Friendship.divisibility.html#div.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">)`</span><span class="id" title="notation">_</span><span class="id" title="notation">(</span>1<span class="id" title="notation">+(</span><a class="idref" href="Friendship.divisibility.html#div.n"><span class="id" title="variable">n</span></a><span class="id" title="notation">-</span>1<span class="id" title="notation">)</span><span class="id" title="notation">).-1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS"><span class="id" title="abbreviation">LHS</span></a>] <span class="id" title="var">trN</span>  -<span class="id" title="lemma">char_poly_trace</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [<span class="id" title="var">μs</span> <span class="id" title="var">char_poly</span> <span class="id" title="var">props</span>] := (<a class="idref" href="Friendship.adj2_matrix.html#adj_mtx_char_poly"><span class="id" title="lemma">adj_mtx_char_poly</span></a> <a class="idref" href="Friendship.divisibility.html#div.kge1"><span class="id" title="variable">kge1</span></a> <a class="idref" href="Friendship.divisibility.html#div.nge1"><span class="id" title="variable">nge1</span></a> <a class="idref" href="Friendship.divisibility.html#div.A_sqr"><span class="id" title="variable">A_sqr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {}<span class="id" title="var">char_poly</span> <a class="idref" href="Friendship.matrix_lemmas.html#viete_sum"><span class="id" title="lemma">viete_sum</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">zero_char_poly</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">size_tuple</span>; <span class="id" title="var">ssrnat_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">eigvals_sum0</span> : <span class="id" title="notation">\</span><span class="id" title="notation">sum_</span><span class="id" title="notation">(</span><a id="fce7cb2b67c546b304716f0b0e4eb2fd" class="idref" href="#fce7cb2b67c546b304716f0b0e4eb2fd"><span class="id" title="binder">μ</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">μs</span><span class="id" title="notation">)</span> <a class="idref" href="Friendship.divisibility.html#174ba38dc35a862829088bd22b581a95"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0%<span class="id" title="var">R</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<span class="id" title="definition">opprK</span> (<span class="id" title="notation">\</span><span class="id" title="notation">sum_</span><span class="id" title="notation">(</span><a id="ff0962b7e29810d16219179fd8ca619c" class="idref" href="#ff0962b7e29810d16219179fd8ca619c"><span class="id" title="binder">μ</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">μs</span><span class="id" title="notation">)</span> <a class="idref" href="Friendship.divisibility.html#c8293e3a578dd7fbb92a8e5adbfefdca"><span class="id" title="variable">μ</span></a>)) -<span class="id" title="var">zero_char_poly</span> <span class="id" title="definition">oppr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}       <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">zero_char_poly</span> <span class="id" title="var">trN</span> <span class="id" title="var">A_tr0</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">μs</span> <span class="id" title="var">props</span> <span class="id" title="var">eigvals_sum0</span> =&gt; <span class="id" title="var">μs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">μs</span> =&gt; <span class="id" title="var">μs</span>; <span class="id" title="tactic">case</span>: <span class="id" title="var">μs</span> =&gt; [|<span class="id" title="var">μ</span> <span class="id" title="var">μs</span>] <span class="id" title="var">sz_μs</span> <span class="id" title="var">props</span> <span class="id" title="var">eigvals_sum0</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eigvals_sum0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">props</span>. <span class="id" title="tactic">move</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">μ_sq</span> <span class="id" title="var">props</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Friendship.divisibility.html#sum_of_roots"><span class="id" title="lemma">sum_of_roots</span></a> <span class="id" title="var">props</span>) //= <span class="id" title="tactic">in</span> <span class="id" title="var">eigvals_sum0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">a</span> := <span class="id" title="definition">count</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="i:51" class="idref" href="#i:51"><span class="id" title="binder">i</span></a> : <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><span class="id" title="definition">size</span> <span class="id" title="var">μs</span><span class="id" title="notation">)</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">tnth</span> (<span class="id" title="definition">in_tuple</span> <span class="id" title="var">μs</span>) <a class="idref" href="Friendship.divisibility.html#i:49"><span class="id" title="variable">i</span></a> <span class="id" title="notation">==</span> <span class="id" title="abbreviation">sqrtC</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">index_enum</span> (<span class="id" title="definition">ordinal_finType</span> (<span class="id" title="definition">size</span> <span class="id" title="var">μs</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">b</span> := <span class="id" title="definition">count</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="i:54" class="idref" href="#i:54"><span class="id" title="binder">i</span></a> : <span class="id" title="notation">'</span><span class="id" title="notation">I_</span><span class="id" title="notation">(</span><span class="id" title="definition">size</span> <span class="id" title="var">μs</span><span class="id" title="notation">)</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">tnth</span> (<span class="id" title="definition">in_tuple</span> <span class="id" title="var">μs</span>) <a class="idref" href="Friendship.divisibility.html#i:52"><span class="id" title="variable">i</span></a> <span class="id" title="notation">==</span> <span class="id" title="abbreviation">sqrtC</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">index_enum</span> (<span class="id" title="definition">ordinal_finType</span> (<span class="id" title="definition">size</span> <span class="id" title="var">μs</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">sqk</span> := <span class="id" title="abbreviation">sqrtC</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="abbreviation">algC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">a</span> -/<span class="id" title="var">b</span> -/<span class="id" title="var">sqk</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eigvals_sum0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="definition">mulr_natr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eigvals_sum0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">sqk</span> <span class="id" title="notation">*+</span> <span class="id" title="var">b</span>]<span class="id" title="definition">mulr_natr</span> -<span class="id" title="definition">mulrN</span> -<span class="id" title="definition">mulrDr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eigvals_sum0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">μ_sqk</span> : <span class="id" title="notation">-</span><span class="id" title="var">μ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">sqk</span> <span class="id" title="notation">*</span> <span class="id" title="notation">(</span><span class="id" title="var">a</span><span class="id" title="notation">%:</span><span class="id" title="notation">R</span> <span class="id" title="notation">-</span> <span class="id" title="var">b</span><span class="id" title="notation">%:</span><span class="id" title="notation">R</span><span class="id" title="notation">)</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> - (<span class="id" title="definition">add0r</span> (<span class="id" title="var">sqk</span> <span class="id" title="notation">*</span> <span class="id" title="notation">(</span><span class="id" title="var">a</span><span class="id" title="notation">%:</span><span class="id" title="notation">R</span> <span class="id" title="notation">-</span> <span class="id" title="var">b</span><span class="id" title="notation">%:</span><span class="id" title="notation">R</span><span class="id" title="notation">)</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-(<span class="id" title="definition">addNr</span> <span class="id" title="var">μ</span>) -<span class="id" title="definition">addrA</span> <span class="id" title="var">eigvals_sum0</span> <span class="id" title="definition">addr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">eigvals_sum0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">sqrs</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> (<span class="id" title="keyword">fun</span> <a id="x:55" class="idref" href="#x:55"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="Friendship.divisibility.html#x:55"><span class="id" title="variable">x</span></a> <span class="id" title="notation">*</span><a class="idref" href="Friendship.divisibility.html#x:55"><span class="id" title="variable">x</span></a>) <span class="id" title="var">μ_sqk</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">mulrN</span> <span class="id" title="definition">mulNr</span> <span class="id" title="definition">opprK</span> <span class="comment">(*-expr2&nbsp;exprnP*)</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sqrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS"><span class="id" title="abbreviation">RHS</span></a>]<span class="id" title="definition">mulrA</span> [<span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS"><span class="id" title="abbreviation">RHS</span></a>]<span class="id" title="definition">mulrC</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sqrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">exprSz</span> <span class="id" title="lemma">expr1z</span> <span class="id" title="tactic">in</span> <span class="id" title="var">μ_sq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#elimT"><span class="id" title="lemma">elimT</span></a> <span class="id" title="lemma">eqP</span> <span class="id" title="var">μ_sq</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">sqrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span>  <span class="id" title="var">sqk_</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">sqk</span> <span class="id" title="notation">*</span> <span class="id" title="notation">(</span><span class="id" title="var">a</span><span class="id" title="notation">%:</span><span class="id" title="notation">R</span> <span class="id" title="notation">-</span> <span class="id" title="var">b</span><span class="id" title="notation">%:</span><span class="id" title="notation">R</span><span class="id" title="notation">)</span> <span class="id" title="notation">*</span> <span class="id" title="var">sqk</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">-</span>1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span> <span class="id" title="notation">*</span> <span class="id" title="notation">(</span><span class="id" title="var">a</span><span class="id" title="notation">%:</span><span class="id" title="notation">R</span> <span class="id" title="notation">-</span> <span class="id" title="var">b</span><span class="id" title="notation">%:</span><span class="id" title="notation">R</span><span class="id" title="notation">)</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="definition">mulrA</span> <span class="id" title="definition">mulrC</span> -<span class="id" title="definition">mulrA</span>  -<span class="id" title="definition">expr2</span> <span class="id" title="lemma">sqrtCK</span> <span class="id" title="definition">mulrC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {}<span class="id" title="var">sqk_</span> <span class="id" title="definition">mulrA</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sqrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <a class="idref" href="Friendship.divisibility.html#X:56"><span class="id" title="variable">X</span></a> <span class="id" title="notation">*</span> <span class="id" title="notation">(</span><span class="id" title="var">a</span><span class="id" title="notation">%:</span><span class="id" title="notation">R</span> <span class="id" title="notation">-</span> <span class="id" title="var">b</span><span class="id" title="notation">%:</span><span class="id" title="notation">R</span><span class="id" title="notation">)</span>] <span class="id" title="definition">mulrC</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sqrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">nk_eq_</span> : (<a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">+</span> <a class="idref" href="Friendship.divisibility.html#div.n"><span class="id" title="variable">n</span></a> <span class="id" title="notation">-</span> 1)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">*</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">N</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.divisibility.html#div.nk_eq"><span class="id" title="variable">nk_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <a class="idref" href="Friendship.divisibility.html#div.kge1"><span class="id" title="variable">kge1</span></a> <a class="idref" href="Friendship.divisibility.html#div.nge1"><span class="id" title="variable">nge1</span></a> <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <a class="idref" href="Friendship.divisibility.html#div.n"><span class="id" title="variable">n</span></a> =&gt; /<span class="id" title="lemma">ltP</span> <span class="id" title="var">kge1'</span> /<span class="id" title="lemma">ltP</span> <span class="id" title="var">nge1'</span> [|<span class="id" title="var">k'</span>] [|<span class="id" title="var">n'</span>]; <span class="id" title="var">ssrnat_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">nk_eq_</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sqrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">sqrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">sqrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">pmulrn</span>  -<span class="id" title="lemma">mulrzBr</span> -!<span class="id" title="lemma">intrM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> /<span class="id" title="definition">intr_inj</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="lemma">dvdz_mulr</span>. <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">dvdz_mulr</span>. <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">dvdzz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="tr_adj_rel_nat" class="idref" href="#tr_adj_rel_nat"><span class="id" title="lemma">tr_adj_rel_nat</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">-</span>1)%<span class="id" title="var">N</span> <span class="id" title="notation">%|</span> (<a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">*</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="lemma">absz_nat</span> (<a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">*</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a>)) -(<span class="id" title="lemma">absz_nat</span> (<a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">-</span>1)) -<span class="id" title="lemma">dvdzE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="Friendship.divisibility.html#tr_adj_rel"><span class="id" title="lemma">tr_adj_rel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="k_is_2" class="idref" href="#k_is_2"><span class="id" title="lemma">k_is_2</span></a>: <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 2%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">kd_lem</span> := <a class="idref" href="Friendship.divisibility.html#tr_adj_rel_nat"><span class="id" title="lemma">tr_adj_rel_nat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">kge1</span> <span class="id" title="var">kd_lem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">k1dk</span>: <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">-</span>1<span class="id" title="notation">)</span> <span class="id" title="notation">%|</span> <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">div_k1k</span>: <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">-</span>1<span class="id" title="notation">)</span> <span class="id" title="notation">%|</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">-</span>1<span class="id" title="notation">)*</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span>  (<span class="id" title="lemma">dvdn_mulr</span> <span class="id" title="var">_</span> (<span class="id" title="lemma">dvdnn</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="lemma">dvdn_addl</span> <span class="id" title="var">_</span> <span class="id" title="var">div_k1k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt; : <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">+</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1<span class="id" title="notation">)</span> <span class="id" title="notation">*</span> <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">*</span> <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a>  . {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <a class="idref" href="Friendship.divisibility.html#div.kge1"><span class="id" title="variable">kge1</span></a> <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> =&gt; /<span class="id" title="lemma">ltP</span> <span class="id" title="var">kge1'</span> [| <span class="id" title="var">k'</span>]; <span class="id" title="var">ssrnat_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>  <span class="id" title="var">kd_lem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">k1d</span> : <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">-</span>1 <span class="id" title="notation">%|</span> 1. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="lemma">dvdn_addl</span> <span class="id" title="var">_</span> (<span class="id" title="lemma">dvdnn</span> (<a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">-</span> 1))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> &lt;- : <a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1 <span class="id" title="notation">+</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.divisibility.html#div.k"><span class="id" title="variable">k</span></a><span class="id" title="notation">-</span>1<span class="id" title="notation">)</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <a class="idref" href="Friendship.divisibility.html#div.kge1"><span class="id" title="variable">kge1</span></a> =&gt;  /<span class="id" title="lemma">ltP</span>  ; <span class="id" title="var">ssrnat_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">k1dk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">dvdn1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">k1d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">k1d</span>. <span class="id" title="tactic">move</span>=&gt;/<span class="id" title="lemma">eqP</span> <span class="id" title="var">k1d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Friendship.divisibility.html#div"><span class="id" title="section">div</span></a>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
