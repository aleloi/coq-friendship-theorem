<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Friendship.combinatorics</h1>

<div class="code">
<span class="comment">(*From&nbsp;mathcomp&nbsp;Require&nbsp;Import&nbsp;ssreflect&nbsp;ssrbool&nbsp;ssrfun&nbsp;eqtype&nbsp;ssrnat&nbsp;div&nbsp;seq.<br/>
From&nbsp;mathcomp&nbsp;Require&nbsp;Import&nbsp;choice&nbsp;fintype&nbsp;finfun&nbsp;bigop&nbsp;finset.<br/>
*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">all_ssreflect</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ssralg</span>  <span class="comment">(*zmodp*)</span> <span class="id" title="library">matrix</span> <span class="comment">(*&nbsp;mxalgebra&nbsp;poly&nbsp;<span class="comment">(*&nbsp;polydiv&nbsp;*)</span><br/>
&nbsp;&nbsp;mxpoly&nbsp;*)</span>       .<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bigop</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">algC</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Hammer</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Tactics</span> .<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Hammer</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Hammer</span> .<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Friendship.adj2_matrix.html#"><span class="id" title="library">Friendship.adj2_matrix</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Friendship.divisibility.html#"><span class="id" title="library">Friendship.divisibility</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Friendship.matrix_casts.html#"><span class="id" title="library">Friendship.matrix_casts</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="friendship_sec" class="idref" href="#friendship_sec"><span class="id" title="section">friendship_sec</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="T:1" class="idref" href="#T:1"><span class="id" title="binder">T</span></a>: <span class="id" title="abbreviation">finType</span>) (<a id="T_nonempty:2" class="idref" href="#T_nonempty:2"><span class="id" title="binder">T_nonempty</span></a> :  <span class="id" title="notation">[</span><span class="id" title="notation">set</span><span class="id" title="notation">:</span> <a class="idref" href="Friendship.combinatorics.html#T:1"><span class="id" title="variable">T</span></a><span class="id" title="notation">]</span> <span class="id" title="notation">!=</span> <span class="id" title="definition">set0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:3" class="idref" href="#F:3"><span class="id" title="binder">F</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#rel"><span class="id" title="definition">rel</span></a> <a class="idref" href="Friendship.combinatorics.html#T:1"><span class="id" title="variable">T</span></a>) (<a id="Fsym:4" class="idref" href="#Fsym:4"><span class="id" title="binder">Fsym</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#symmetric"><span class="id" title="definition">symmetric</span></a> <a class="idref" href="Friendship.combinatorics.html#F:3"><span class="id" title="variable">F</span></a>) (<a id="Firr:5" class="idref" href="#Firr:5"><span class="id" title="binder">Firr</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#irreflexive"><span class="id" title="definition">irreflexive</span></a> <a class="idref" href="Friendship.combinatorics.html#F:3"><span class="id" title="variable">F</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;I&nbsp;first&nbsp;tried&nbsp;with&nbsp;&nbsp;"Co:&nbsp;forall&nbsp;(m&nbsp;n:&nbsp;T),&nbsp;m&nbsp;!=&nbsp;n&nbsp;-&gt;&nbsp;T"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;gave&nbsp;up&nbsp;when&nbsp;I&nbsp;wanted&nbsp;a&nbsp;total&nbsp;version,&nbsp;and&nbsp;couldn't&nbsp;prove&nbsp;that<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;was&nbsp;equal&nbsp;to&nbsp;'Co'&nbsp;whenever&nbsp;m&nbsp;!=&nbsp;n&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Co:8" class="idref" href="#Co:8"><span class="id" title="binder">Co</span></a>: <span class="id" title="keyword">forall</span> (<a id="m:6" class="idref" href="#m:6"><span class="id" title="binder">m</span></a> <a id="n:7" class="idref" href="#n:7"><span class="id" title="binder">n</span></a>: <a class="idref" href="Friendship.combinatorics.html#T:1"><span class="id" title="variable">T</span></a>), <a class="idref" href="Friendship.combinatorics.html#T:1"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;(<a id="Col:12" class="idref" href="#Col:12"><span class="id" title="binder">Col</span></a> : <span class="id" title="keyword">forall</span> <a id="m:9" class="idref" href="#m:9"><span class="id" title="binder">m</span></a> <a id="n:10" class="idref" href="#n:10"><span class="id" title="binder">n</span></a> (<a id="mNn:11" class="idref" href="#mNn:11"><span class="id" title="binder">mNn</span></a>: <a class="idref" href="Friendship.combinatorics.html#m:9"><span class="id" title="variable">m</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#n:10"><span class="id" title="variable">n</span></a>), <a class="idref" href="Friendship.combinatorics.html#F:3"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#m:9"><span class="id" title="variable">m</span></a> (<a class="idref" href="Friendship.combinatorics.html#Co:8"><span class="id" title="variable">Co</span></a> <a class="idref" href="Friendship.combinatorics.html#m:9"><span class="id" title="variable">m</span></a> <a class="idref" href="Friendship.combinatorics.html#n:10"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;(<a id="Cor:16" class="idref" href="#Cor:16"><span class="id" title="binder">Cor</span></a> : <span class="id" title="keyword">forall</span> <a id="m:13" class="idref" href="#m:13"><span class="id" title="binder">m</span></a> <a id="n:14" class="idref" href="#n:14"><span class="id" title="binder">n</span></a> (<a id="mNn:15" class="idref" href="#mNn:15"><span class="id" title="binder">mNn</span></a>: <a class="idref" href="Friendship.combinatorics.html#m:13"><span class="id" title="variable">m</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#n:14"><span class="id" title="variable">n</span></a>), <a class="idref" href="Friendship.combinatorics.html#F:3"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#n:14"><span class="id" title="variable">n</span></a> (<a class="idref" href="Friendship.combinatorics.html#Co:8"><span class="id" title="variable">Co</span></a> <a class="idref" href="Friendship.combinatorics.html#m:13"><span class="id" title="variable">m</span></a> <a class="idref" href="Friendship.combinatorics.html#n:14"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;(<a id="CoUnique:21" class="idref" href="#CoUnique:21"><span class="id" title="binder">CoUnique</span></a> : <span class="id" title="keyword">forall</span> <a id="m:17" class="idref" href="#m:17"><span class="id" title="binder">m</span></a> <a id="n:18" class="idref" href="#n:18"><span class="id" title="binder">n</span></a> <a id="l:19" class="idref" href="#l:19"><span class="id" title="binder">l</span></a> (<a id="mNn:20" class="idref" href="#mNn:20"><span class="id" title="binder">mNn</span></a>: <a class="idref" href="Friendship.combinatorics.html#m:17"><span class="id" title="variable">m</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#n:18"><span class="id" title="variable">n</span></a>), <a class="idref" href="Friendship.combinatorics.html#F:3"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#m:17"><span class="id" title="variable">m</span></a> <a class="idref" href="Friendship.combinatorics.html#l:19"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#F:3"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#n:18"><span class="id" title="variable">n</span></a> <a class="idref" href="Friendship.combinatorics.html#l:19"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#l:19"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Friendship.combinatorics.html#Co:8"><span class="id" title="variable">Co</span></a> <a class="idref" href="Friendship.combinatorics.html#m:17"><span class="id" title="variable">m</span></a> <a class="idref" href="Friendship.combinatorics.html#n:18"><span class="id" title="variable">n</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="T_elem" class="idref" href="#T_elem"><span class="id" title="definition">T_elem</span></a>:  <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T"><span class="id" title="variable">T</span></a> := (<span class="id" title="definition">xchoose</span> (<span class="id" title="lemma">set0Pn</span> <span class="id" title="var">_</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T_nonempty"><span class="id" title="variable">T_nonempty</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="n" class="idref" href="#n"><span class="id" title="definition">n</span></a> := <span class="id" title="notation">#|</span><span class="id" title="notation">[</span><span class="id" title="notation">set</span><span class="id" title="notation">:</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T"><span class="id" title="variable">T</span></a><span class="id" title="notation">]</span><span class="id" title="notation">|</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nge1" class="idref" href="#nge1"><span class="id" title="lemma">nge1</span></a> : <a class="idref" href="Friendship.combinatorics.html#n"><span class="id" title="definition">n</span></a> <span class="id" title="notation">&gt;=</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T_nonempty"><span class="id" title="variable">T_nonempty</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">card_gt0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Co_sym" class="idref" href="#Co_sym"><span class="id" title="lemma">Co_sym</span></a> <a id="m:22" class="idref" href="#m:22"><span class="id" title="binder">m</span></a> <a id="n:23" class="idref" href="#n:23"><span class="id" title="binder">n</span></a> (<a id="mNn:24" class="idref" href="#mNn:24"><span class="id" title="binder">mNn</span></a>: <a class="idref" href="Friendship.combinatorics.html#m:22"><span class="id" title="variable">m</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#n:23"><span class="id" title="variable">n</span></a>) (<a id="nNm:25" class="idref" href="#nNm:25"><span class="id" title="binder">nNm</span></a>: <a class="idref" href="Friendship.combinatorics.html#n:23"><span class="id" title="variable">n</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#m:22"><span class="id" title="variable">m</span></a>): <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <a class="idref" href="Friendship.combinatorics.html#m:22"><span class="id" title="variable">m</span></a> <a class="idref" href="Friendship.combinatorics.html#n:23"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <a class="idref" href="Friendship.combinatorics.html#n:23"><span class="id" title="variable">n</span></a> <a class="idref" href="Friendship.combinatorics.html#m:22"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="andWl" class="idref" href="#andWl"><span class="id" title="lemma">andWl</span></a> <a id="a:26" class="idref" href="#a:26"><span class="id" title="binder">a</span></a> <a id="b:27" class="idref" href="#b:27"><span class="id" title="binder">b</span></a> : <a class="idref" href="Friendship.combinatorics.html#a:26"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Friendship.combinatorics.html#b:27"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#a:26"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="andWr" class="idref" href="#andWr"><span class="id" title="lemma">andWr</span></a> <a id="a:28" class="idref" href="#a:28"><span class="id" title="binder">a</span></a> <a id="b:29" class="idref" href="#b:29"><span class="id" title="binder">b</span></a> : <a class="idref" href="Friendship.combinatorics.html#a:28"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Friendship.combinatorics.html#b:29"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#b:29"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="adj" class="idref" href="#adj"><span class="id" title="definition">adj</span></a> <a id="u:30" class="idref" href="#u:30"><span class="id" title="binder">u</span></a> := <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <a id="w:31" class="idref" href="#w:31"><span class="id" title="binder">w</span></a> <span class="id" title="notation">|</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:30"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#w:31"><span class="id" title="variable">w</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="deg" class="idref" href="#deg"><span class="id" title="definition">deg</span></a> <a id="u:32" class="idref" href="#u:32"><span class="id" title="binder">u</span></a> := <span class="id" title="notation">#|</span><a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#u:32"><span class="id" title="variable">u</span></a><span class="id" title="notation">|</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="k" class="idref" href="#k"><span class="id" title="definition">k</span></a> := <a class="idref" href="Friendship.combinatorics.html#deg"><span class="id" title="definition">deg</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="v_not_in_adj_u" class="idref" href="#v_not_in_adj_u"><span class="id" title="lemma">v_not_in_adj_u</span></a> <a id="u:33" class="idref" href="#u:33"><span class="id" title="binder">u</span></a> <a id="v:34" class="idref" href="#v:34"><span class="id" title="binder">v</span></a> <a id="w:35" class="idref" href="#w:35"><span class="id" title="binder">w</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Friendship.combinatorics.html#w:35"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#u:33"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:33"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#v:34"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#v:34"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#w:35"><span class="id" title="variable">w</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Fuw</span> <span class="id" title="var">nFuv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /<span class="id" title="lemma">eqP</span> <span class="id" title="var">vW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">vW</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Fuw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">nFuv</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*Definition&nbsp;map_adj&nbsp;(u&nbsp;v&nbsp;w:&nbsp;T)&nbsp;:=&nbsp;Co&nbsp;v&nbsp;w.*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*Definition&nbsp;map_adj'&nbsp;u&nbsp;v&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(uNv:&nbsp;u&nbsp;!=&nbsp;v)&nbsp;(nFuv:&nbsp;~~(F&nbsp;u&nbsp;v))&nbsp;w&nbsp;(wAdjU:&nbsp;w&nbsp;\in&nbsp;adj&nbsp;u)&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:=&nbsp;(Co&nbsp;(v_not_in_adj_u&nbsp;&nbsp;wAdjU&nbsp;nFuv)).*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_adj_im" class="idref" href="#map_adj_im"><span class="id" title="lemma">map_adj_im</span></a> <a id="u:36" class="idref" href="#u:36"><span class="id" title="binder">u</span></a> <a id="v:37" class="idref" href="#v:37"><span class="id" title="binder">v</span></a> <span class="comment">(*(uNv:&nbsp;u&nbsp;!=&nbsp;v)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="nFuv:38" class="idref" href="#nFuv:38"><span class="id" title="binder">nFuv</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:36"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#v:37"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">)</span></a>) <a id="w:39" class="idref" href="#w:39"><span class="id" title="binder">w</span></a> (<a id="wAdjU:40" class="idref" href="#wAdjU:40"><span class="id" title="binder">wAdjU</span></a>: <a class="idref" href="Friendship.combinatorics.html#w:39"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#u:36"><span class="id" title="variable">u</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <a class="idref" href="Friendship.combinatorics.html#v:37"><span class="id" title="variable">v</span></a> <a class="idref" href="Friendship.combinatorics.html#w:39"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#v:37"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Col"><span class="id" title="variable">Col</span></a>; <span class="id" title="tactic">apply</span>: (@<a class="idref" href="Friendship.combinatorics.html#v_not_in_adj_u"><span class="id" title="lemma">v_not_in_adj_u</span></a> <span class="id" title="var">u</span>); <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Feq" class="idref" href="#Feq"><span class="id" title="lemma">Feq</span></a> <a id="u:41" class="idref" href="#u:41"><span class="id" title="binder">u</span></a> <a id="v:42" class="idref" href="#v:42"><span class="id" title="binder">v</span></a>: <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:41"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#v:42"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#u:41"><span class="id" title="variable">u</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#v:42"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: (@<span class="id" title="lemma">eqP</span> <span class="id" title="var">_</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>); [<span class="id" title="tactic">move</span> =&gt; -&gt;; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Firr"><span class="id" title="variable">Firr</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_adj_inj" class="idref" href="#map_adj_inj"><span class="id" title="lemma">map_adj_inj</span></a> <a id="u:43" class="idref" href="#u:43"><span class="id" title="binder">u</span></a> <a id="v:44" class="idref" href="#v:44"><span class="id" title="binder">v</span></a> (<a id="uNv:45" class="idref" href="#uNv:45"><span class="id" title="binder">uNv</span></a>: <a class="idref" href="Friendship.combinatorics.html#u:43"><span class="id" title="variable">u</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#v:44"><span class="id" title="variable">v</span></a>) (<a id="nFuv:46" class="idref" href="#nFuv:46"><span class="id" title="binder">nFuv</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:43"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#v:44"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">)</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#u:43"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3"><span class="id" title="notation">&amp;,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#injective"><span class="id" title="definition">injective</span></a> (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <a class="idref" href="Friendship.combinatorics.html#v:44"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b4f176550f5b849a7fbba2ee164934d3"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w1</span> <span class="id" title="var">w2</span>  <span class="id" title="var">w1adj</span> <span class="id" title="var">w2adj</span> <span class="id" title="var">coeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w1adj</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w2adj</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">vw1</span> : <span class="id" title="var">v</span> <span class="id" title="notation">!=</span> <span class="id" title="var">w1</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">v</span> <span class="id" title="notation">==</span> <span class="id" title="var">w1</span>)) =&gt; /<span class="id" title="lemma">eqP</span> <span class="id" title="var">vw1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">vw1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w1adj</span>; <span class="id" title="tactic">move</span>: <span class="id" title="var">nFuv</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">vw2</span> : <span class="id" title="var">v</span> <span class="id" title="notation">!=</span> <span class="id" title="var">w2</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">v</span> <span class="id" title="notation">==</span> <span class="id" title="var">w2</span>)) =&gt; /<span class="id" title="lemma">eqP</span> <span class="id" title="var">vw2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">vw2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w2adj</span>; <span class="id" title="tactic">move</span>: <span class="id" title="var">nFuv</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">x</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <span class="id" title="var">v</span> <span class="id" title="var">w1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">fxw1</span> := (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.Cor"><span class="id" title="variable">Cor</span></a> <span class="id" title="var">vw1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">fxw2</span> := (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.Cor"><span class="id" title="variable">Cor</span></a> <span class="id" title="var">vw2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">fxw1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">coeq</span> -/<span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">fxw2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">w1x</span>: <span class="id" title="var">w1</span> <span class="id" title="notation">!=</span> <span class="id" title="var">x</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Friendship.combinatorics.html#Feq"><span class="id" title="lemma">Feq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">w2x</span>: <span class="id" title="var">w2</span> <span class="id" title="notation">!=</span> <span class="id" title="var">x</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Friendship.combinatorics.html#Feq"><span class="id" title="lemma">Feq</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ux</span> : <span class="id" title="var">u</span> <span class="id" title="notation">!=</span> <span class="id" title="var">x</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<span class="id" title="lemma">eqP</span> <span class="id" title="var">_</span> <span class="id" title="var">u</span> <span class="id" title="var">x</span>) =&gt; <span class="id" title="var">ux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.Col"><span class="id" title="variable">Col</span></a> <span class="id" title="var">vw1</span>); <span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">x</span> -<span class="id" title="var">ux</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">nFuv</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>; <span class="id" title="tactic">clear</span>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;...&nbsp;w1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w2&nbsp;...&nbsp;<span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode"><span class="id" title="var">w1</span></span>&nbsp;=&nbsp;<span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode"><span class="id" title="var">w2</span></span>&nbsp;=&nbsp;x&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <span class="id" title="var">u</span> <span class="id" title="var">x</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="Friendship.combinatorics.html#friendship_sec.CoUnique"><span class="id" title="variable">CoUnique</span></a> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="Friendship.combinatorics.html#friendship_sec.CoUnique"><span class="id" title="variable">CoUnique</span></a> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="almost_regular_leq" class="idref" href="#almost_regular_leq"><span class="id" title="lemma">almost_regular_leq</span></a> <a id="u:47" class="idref" href="#u:47"><span class="id" title="binder">u</span></a> <a id="v:48" class="idref" href="#v:48"><span class="id" title="binder">v</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:47"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#v:48"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#deg"><span class="id" title="definition">deg</span></a> <a class="idref" href="Friendship.combinatorics.html#u:47"><span class="id" title="variable">u</span></a> <span class="id" title="notation">&lt;=</span> <a class="idref" href="Friendship.combinatorics.html#deg"><span class="id" title="definition">deg</span></a> <a class="idref" href="Friendship.combinatorics.html#v:48"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<span class="id" title="lemma">eqP</span> <span class="id" title="var">_</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>) =&gt; <span class="id" title="var">uv</span> <span class="id" title="var">fuv</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">uv</span> <span class="id" title="lemma">leqnn</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">uv</span> =&gt; /<span class="id" title="lemma">eqP</span> <span class="id" title="var">uv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="Friendship.combinatorics.html#deg"><span class="id" title="definition">deg</span></a> -(<span class="id" title="lemma">card_in_imset</span> (<a class="idref" href="Friendship.combinatorics.html#map_adj_inj"><span class="id" title="lemma">map_adj_inj</span></a> <span class="id" title="var">uv</span> <span class="id" title="var">fuv</span>  ));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">subset_leq_card</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <span class="id" title="var">v</span> <a class="idref" href="Friendship.combinatorics.html#x:49"><span class="id" title="variable">x</span></a> <span class="id" title="notation">|</span> <a id="x:49" class="idref" href="#x:49"><span class="id" title="binder">x</span></a> <span class="id" title="notation">in</span> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <span class="id" title="var">u</span><span class="id" title="notation">]</span> <span class="id" title="notation">\</span><span class="id" title="notation">subset</span> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <span class="id" title="var">v</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">subsetE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>  /<span class="id" title="lemma">pred0P</span> =&gt; <span class="id" title="var">x</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <span class="id" title="var">v</span>)) =&gt; //= <span class="id" title="var">xNotAdj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eqbF_neg</span>; <span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /<span class="id" title="lemma">imsetP</span> [<span class="id" title="var">w</span> <span class="id" title="var">wadj</span> <span class="id" title="var">xeq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">in_adj</span> := (<a class="idref" href="Friendship.combinatorics.html#map_adj_im"><span class="id" title="lemma">map_adj_im</span></a>  <span class="id" title="var">fuv</span> <span class="id" title="var">wadj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">xeq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">in_adj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">xNotAdj</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="almost_regular_eq" class="idref" href="#almost_regular_eq"><span class="id" title="lemma">almost_regular_eq</span></a> <a id="u:50" class="idref" href="#u:50"><span class="id" title="binder">u</span></a> <a id="v:51" class="idref" href="#v:51"><span class="id" title="binder">v</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:50"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#v:51"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#deg"><span class="id" title="definition">deg</span></a> <a class="idref" href="Friendship.combinatorics.html#u:50"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Friendship.combinatorics.html#deg"><span class="id" title="definition">deg</span></a> <a class="idref" href="Friendship.combinatorics.html#v:51"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">fuv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> /<span class="id" title="lemma">eqP</span> := <a class="idref" href="Friendship.combinatorics.html#almost_regular_leq"><span class="id" title="lemma">almost_regular_leq</span></a> <span class="id" title="var">fuv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fuv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> /<span class="id" title="lemma">eqP</span> := <a class="idref" href="Friendship.combinatorics.html#almost_regular_leq"><span class="id" title="lemma">almost_regular_leq</span></a> <span class="id" title="var">fuv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ssrnat_lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="friendship_sec.assume_contra" class="idref" href="#friendship_sec.assume_contra"><span class="id" title="section">assume_contra</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="no_hub':56" class="idref" href="#no_hub':56"><span class="id" title="binder">no_hub'</span></a>: <span class="id" title="keyword">forall</span> <a id="u:52" class="idref" href="#u:52"><span class="id" title="binder">u</span></a>, <span class="id" title="notation">[</span><span class="id" title="notation">exists</span> <a id="v:55" class="idref" href="#v:55"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:52"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#v:53"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#u:52"><span class="id" title="variable">u</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#v:53"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;sig&nbsp;version&nbsp;of&nbsp;no_hub'.&nbsp;This&nbsp;is&nbsp;usable,&nbsp;in&nbsp;contrast&nbsp;to&nbsp;no_hub'.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="no_hub" class="idref" href="#no_hub"><span class="id" title="lemma">no_hub</span></a>: <span class="id" title="keyword">forall</span> <a id="u:57" class="idref" href="#u:57"><span class="id" title="binder">u</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#c0bbd202248f4def7aaf0c316cf2c29e"><span class="id" title="notation">{</span></a><a id="v:59" class="idref" href="#v:59"><span class="id" title="binder">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#c0bbd202248f4def7aaf0c316cf2c29e"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:57"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#v:58"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#c0bbd202248f4def7aaf0c316cf2c29e"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#c0bbd202248f4def7aaf0c316cf2c29e"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#u:57"><span class="id" title="variable">u</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#v:59"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#c0bbd202248f4def7aaf0c316cf2c29e"><span class="id" title="notation">)}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt;<span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> /<span class="id" title="lemma">existsP</span> <span class="id" title="var">nhu</span> := (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.assume_contra.no_hub'"><span class="id" title="variable">no_hub'</span></a> <span class="id" title="var">u</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="lemma">sigW</span> <span class="id" title="var">nhu</span>) =&gt; [<span class="id" title="var">v</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="almost_almost_regular" class="idref" href="#almost_almost_regular"><span class="id" title="lemma">almost_almost_regular</span></a> <a id="x:60" class="idref" href="#x:60"><span class="id" title="binder">x</span></a> <a id="u:61" class="idref" href="#u:61"><span class="id" title="binder">u</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#x:60"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <a class="idref" href="Friendship.combinatorics.html#x:60"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#u:61"><span class="id" title="variable">u</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <a class="idref" href="Friendship.combinatorics.html#x:60"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#deg"><span class="id" title="definition">deg</span></a> <a class="idref" href="Friendship.combinatorics.html#u:61"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">t</span> := <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">ctx</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">tx</span> <span class="id" title="var">Ftx</span> <span class="id" title="var">uctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">degx</span> := <a class="idref" href="Friendship.combinatorics.html#almost_regular_eq"><span class="id" title="lemma">almost_regular_eq</span></a> <span class="id" title="var">Ftx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">degx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span> <span class="id" title="var">u</span>)); <span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">x</span> <span class="id" title="var">u</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">fxu</span> <span class="id" title="var">ftu</span> | <span class="id" title="tactic">move</span>=&gt;/<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> <span class="id" title="var">f</span> <span class="id" title="var">_</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">_</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> <span class="id" title="var">f</span>  ..<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="Friendship.combinatorics.html#almost_regular_eq"><span class="id" title="lemma">almost_regular_eq</span></a> <span class="id" title="var">f</span>) //=. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.CoUnique"><span class="id" title="variable">CoUnique</span></a> <span class="id" title="var">tx</span> <span class="id" title="var">ftu</span> <span class="id" title="var">fxu</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">uctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">uctx</span> =&gt; /<span class="id" title="lemma">eqP</span>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="regular" class="idref" href="#regular"><span class="id" title="lemma">regular</span></a> <a id="u:62" class="idref" href="#u:62"><span class="id" title="binder">u</span></a>: <a class="idref" href="Friendship.combinatorics.html#deg"><span class="id" title="definition">deg</span></a> <a class="idref" href="Friendship.combinatorics.html#u:62"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">t</span> := <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [<span class="id" title="var">x</span> <span class="id" title="var">ftx</span> <span class="id" title="var">tx</span>] := <a class="idref" href="Friendship.combinatorics.html#no_hub"><span class="id" title="lemma">no_hub</span></a> <span class="id" title="var">t</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">almost_all</span>: <span class="id" title="keyword">forall</span> <a id="v:63" class="idref" href="#v:63"><span class="id" title="binder">v</span></a>, <a class="idref" href="Friendship.combinatorics.html#v:63"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#deg"><span class="id" title="definition">deg</span></a> <a class="idref" href="Friendship.combinatorics.html#v:63"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a> <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">v</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="Friendship.combinatorics.html#almost_almost_regular"><span class="id" title="lemma">almost_almost_regular</span></a> <span class="id" title="var">tx</span> <span class="id" title="var">ftx</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">u</span> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span>)); <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="Friendship.combinatorics.html#almost_almost_regular"><span class="id" title="lemma">almost_almost_regular</span></a> <span class="id" title="var">tx</span> <span class="id" title="var">ftx</span>  ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negPn"><span class="id" title="lemma">negPn</span></a> /<span class="id" title="lemma">eqP</span> <span class="id" title="var">uco</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">uco</span> <span class="id" title="tactic">in</span> <span class="id" title="var">almost_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [<span class="id" title="var">y</span> <span class="id" title="var">fuy</span> <span class="id" title="var">uy</span>] := <a class="idref" href="Friendship.combinatorics.html#no_hub"><span class="id" title="lemma">no_hub</span></a> <span class="id" title="var">u</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Friendship.combinatorics.html#almost_regular_eq"><span class="id" title="lemma">almost_regular_eq</span></a> <span class="id" title="var">fuy</span>) .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_sym</span> <span class="id" title="tactic">in</span> <span class="id" title="var">uy</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">almost_all</span> <span class="id" title="var">y</span> <span class="id" title="var">uy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="kge1" class="idref" href="#kge1"><span class="id" title="lemma">kge1</span></a>: <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a> <span class="id" title="notation">&gt;=</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">t</span> := <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">card_gt0</span> -/<span class="id" title="var">t</span>; <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">set0Pn</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#ex_of_sig"><span class="id" title="definition">ex_of_sig</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> [<span class="id" title="var">y</span> <span class="id" title="var">_</span> <span class="id" title="var">ty</span>] := <a class="idref" href="Friendship.combinatorics.html#no_hub"><span class="id" title="lemma">no_hub</span></a> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <span class="id" title="var">t</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">finset.inE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.Col"><span class="id" title="variable">Col</span></a> <span class="id" title="var">ty</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="nn" class="idref" href="#nn"><span class="id" title="definition">nn</span></a> := <span class="id" title="notation">#|</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#20b75710d0541e9ffd06f8e723fd3daf"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#20b75710d0541e9ffd06f8e723fd3daf"><span class="id" title="notation">eta</span></a> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#20b75710d0541e9ffd06f8e723fd3daf"><span class="id" title="notation">]</span></a><span class="id" title="notation">|</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="R" class="idref" href="#R"><span class="id" title="definition">R</span></a> := <span class="id" title="abbreviation">algC</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">ring_scope</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="A" class="idref" href="#A"><span class="id" title="definition">A</span></a> : <span class="id" title="notation">'</span><span class="id" title="notation">M</span><span class="id" title="notation">[</span><a class="idref" href="Friendship.combinatorics.html#R"><span class="id" title="definition">R</span></a><span class="id" title="notation">]</span><span class="id" title="notation">_nn</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">\</span><span class="id" title="notation">matrix_</span><span class="id" title="notation">(</span><a id="i:64" class="idref" href="#i:64"><span class="id" title="binder">i</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="Friendship.combinatorics.html#nn"><span class="id" title="definition">nn</span></a><span class="id" title="notation">,</span> <a id="j:65" class="idref" href="#j:65"><span class="id" title="binder">j</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="Friendship.combinatorics.html#nn"><span class="id" title="definition">nn</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> (<span class="id" title="definition">enum_val</span> <a class="idref" href="Friendship.combinatorics.html#i:64"><span class="id" title="variable">i</span></a>) (<span class="id" title="definition">enum_val</span> <a class="idref" href="Friendship.combinatorics.html#j:65"><span class="id" title="variable">j</span></a>)<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="A_diag" class="idref" href="#A_diag"><span class="id" title="lemma">A_diag</span></a> <a id="i:66" class="idref" href="#i:66"><span class="id" title="binder">i</span></a>: <a class="idref" href="Friendship.combinatorics.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="Friendship.combinatorics.html#i:66"><span class="id" title="variable">i</span></a> <a class="idref" href="Friendship.combinatorics.html#i:66"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">mxE</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Firr"><span class="id" title="variable">Firr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="A_tr" class="idref" href="#A_tr"><span class="id" title="lemma">A_tr</span></a> : <span class="id" title="notation">\</span><span class="id" title="notation">tr</span> <a class="idref" href="Friendship.combinatorics.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">mxtrace</span>  (<span class="id" title="lemma">eq_bigr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">fun</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">=&gt;</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_const_ord</span>  <span class="id" title="lemma">GRing.iter_addr</span> <span class="id" title="lemma">GRing.addr0</span> <span class="id" title="lemma">GRing.mul0rn</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">i</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#A_diag"><span class="id" title="lemma">A_diag</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="A2_diag" class="idref" href="#A2_diag"><span class="id" title="lemma">A2_diag</span></a> <a id="i:67" class="idref" href="#i:67"><span class="id" title="binder">i</span></a>: <span class="id" title="notation">(</span><a class="idref" href="Friendship.combinatorics.html#A"><span class="id" title="definition">A</span></a><span class="id" title="notation">*</span><span class="id" title="notation">m</span> <a class="idref" href="Friendship.combinatorics.html#A"><span class="id" title="definition">A</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">i</span> <span class="id" title="notation">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a><span class="id" title="notation">%:</span><span class="id" title="notation">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">mulmx</span> !<span class="id" title="lemma">mxE</span> (<span class="id" title="lemma">eq_bigr</span> (<span class="id" title="keyword">fun</span> <a id="j:70" class="idref" href="#j:70"><span class="id" title="binder">j</span></a>=&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> (<span class="id" title="definition">enum_val</span> <span class="id" title="var">i</span>) (<span class="id" title="definition">enum_val</span> <a class="idref" href="Friendship.combinatorics.html#j:68"><span class="id" title="variable">j</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) -/<a class="idref" href="Friendship.combinatorics.html#nn"><span class="id" title="definition">nn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">bigID</span> (<span class="id" title="keyword">fun</span> <a id="x:73" class="idref" href="#x:73"><span class="id" title="binder">x</span></a>=&gt; <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> (<span class="id" title="definition">enum_val</span> <span class="id" title="var">i</span>) (<span class="id" title="definition">enum_val</span> <a class="idref" href="Friendship.combinatorics.html#x:71"><span class="id" title="variable">x</span></a>))) //= -/<a class="idref" href="Friendship.combinatorics.html#nn"><span class="id" title="definition">nn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <a class="idref" href="Friendship.combinatorics.html#X:74"><span class="id" title="variable">X</span></a> <span class="id" title="notation">+</span> <span class="id" title="var">_</span>](<span class="id" title="lemma">eq_bigr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">fun</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">=&gt;</span></a> 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span> <span class="id" title="notation">+</span> <a class="idref" href="Friendship.combinatorics.html#X:75"><span class="id" title="variable">X</span></a>](<span class="id" title="lemma">eq_bigr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">fun</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">=&gt;</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">GRing.sumr_const</span> <span class="id" title="lemma">GRing.mul0rn</span> <span class="id" title="lemma">GRing.addr0</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="Friendship.combinatorics.html#regular"><span class="id" title="lemma">regular</span></a> (<span class="id" title="definition">enum_val</span> <span class="id" title="var">i</span>)) /<a class="idref" href="Friendship.combinatorics.html#deg"><span class="id" title="definition">deg</span></a> /<a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(@<span class="id" title="lemma">card_imset</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="definition">enum_val</span> <span class="id" title="var">_</span> <span class="id" title="lemma">enum_val_inj</span>) //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">setP</span> =&gt; <span class="id" title="var">x</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="definition">inE</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> (<span class="id" title="definition">enum_val</span> <span class="id" title="var">i</span>) <span class="id" title="var">x</span>)) =&gt; <span class="id" title="keyword">Fix</span> ; <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /(@<span class="id" title="lemma">imsetP</span> (<span class="id" title="definition">ordinal_finType</span> <a class="idref" href="Friendship.combinatorics.html#nn"><span class="id" title="definition">nn</span></a>) <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T"><span class="id" title="variable">T</span></a> <span class="id" title="definition">enum_val</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="definition">enum_rank</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#in_mem"><span class="id" title="definition">in_mem</span></a> //= <span class="id" title="lemma">enum_rankK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">enum_rankK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; /(@<span class="id" title="lemma">imsetP</span> (<span class="id" title="definition">ordinal_finType</span> <a class="idref" href="Friendship.combinatorics.html#nn"><span class="id" title="definition">nn</span></a>) <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T"><span class="id" title="variable">T</span></a> <span class="id" title="definition">enum_val</span> ) [<span class="id" title="var">j</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#in_mem"><span class="id" title="definition">in_mem</span></a> //= =&gt; <span class="id" title="var">Fij</span> <span class="id" title="var">xj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">xj</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">Fix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">j</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negPf"><span class="id" title="lemma">negPf</span></a> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">j</span> -&gt; . {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt;  <span class="id" title="var">j</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">mxE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> (<span class="id" title="definition">enum_val</span> <span class="id" title="var">i</span>) (<span class="id" title="definition">enum_val</span> <span class="id" title="var">j</span>))) =&gt; <span class="id" title="var">Fij</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Fij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">GRing.mul1r</span>  <span class="id" title="var">Fij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">GRing.mul0r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="adj'" class="idref" href="#adj'"><span class="id" title="definition">adj'</span></a> <a id="u:76" class="idref" href="#u:76"><span class="id" title="binder">u</span></a> := <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <a id="w:77" class="idref" href="#w:77"><span class="id" title="binder">w</span></a> <span class="id" title="notation">|</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:76"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#w:77"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#w:77"><span class="id" title="variable">w</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="adj'_disjoint" class="idref" href="#adj'_disjoint"><span class="id" title="lemma">adj'_disjoint</span></a> (<a id="u1:78" class="idref" href="#u1:78"><span class="id" title="binder">u1</span></a> <a id="u2:79" class="idref" href="#u2:79"><span class="id" title="binder">u2</span></a> : <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T"><span class="id" title="variable">T</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Friendship.combinatorics.html#u1:78"><span class="id" title="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#u2:79"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Friendship.combinatorics.html#u1:78"><span class="id" title="variable">u1</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#u2:79"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">disjoint</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <a class="idref" href="Friendship.combinatorics.html#u1:78"><span class="id" title="variable">u1</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&amp;</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <a class="idref" href="Friendship.combinatorics.html#u2:79"><span class="id" title="variable">u2</span></a><span class="id" title="notation">)]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">disjoint</span> /<a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> !<span class="id" title="definition">inE</span> =&gt; <span class="id" title="var">u1adj</span> <span class="id" title="var">u2adj</span> <span class="id" title="var">u12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">pred0P</span> =&gt; <span class="id" title="var">x</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <span class="id" title="var">u1</span>)); <span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <span class="id" title="var">u2</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> //= !<span class="id" title="definition">inE</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">fu2x</span> <span class="id" title="var">xt</span>] /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">fu1x</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fu2x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fu1x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">u12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.CoUnique"><span class="id" title="variable">CoUnique</span></a> <span class="id" title="var">xt</span> <span class="id" title="var">fu1x</span> <span class="id" title="var">u1adj</span>) (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.CoUnique"><span class="id" title="variable">CoUnique</span></a> <span class="id" title="var">xt</span> <span class="id" title="var">fu2x</span> <span class="id" title="var">u2adj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; /<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="adj'_and_tU" class="idref" href="#adj'_and_tU"><span class="id" title="lemma">adj'_and_tU</span></a> <a id="u:80" class="idref" href="#u:80"><span class="id" title="binder">u</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Friendship.combinatorics.html#u:80"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <a class="idref" href="Friendship.combinatorics.html#u:80"><span class="id" title="variable">u</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">:|:</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a><span class="id" title="notation">]</span>  <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#u:80"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> -<span class="id" title="lemma">setP</span> =&gt; <span class="id" title="var">fut</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> /<a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> !<span class="id" title="definition">inE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fut</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">x</span> <span class="id" title="notation">==</span> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; /<span class="id" title="lemma">eqP</span> -&gt;; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">fut</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">Bool.andb_true_r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#orb_false_r"><span class="id" title="lemma">Bool.orb_false_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="adj'_and_t_disj" class="idref" href="#adj'_and_t_disj"><span class="id" title="lemma">adj'_and_t_disj</span></a> <a id="u:81" class="idref" href="#u:81"><span class="id" title="binder">u</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Friendship.combinatorics.html#u:81"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">disjoint</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <a class="idref" href="Friendship.combinatorics.html#u:81"><span class="id" title="variable">u</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&amp;</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a><span class="id" title="notation">]</span> <span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">disjoint</span> /<a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> =&gt; <span class="id" title="var">uadj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">pred0P</span> =&gt; <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="definition">inE</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: (<span class="id" title="var">x</span> <span class="id" title="notation">==</span> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a>) =&gt; //=; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#andb_false_r"><span class="id" title="lemma">Bool.andb_false_r</span></a> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">Bool.andb_true_r</span></a> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="adj'_card" class="idref" href="#adj'_card"><span class="id" title="lemma">adj'_card</span></a> <a id="u:82" class="idref" href="#u:82"><span class="id" title="binder">u</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Friendship.combinatorics.html#u:82"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">#|</span><a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <a class="idref" href="Friendship.combinatorics.html#u:82"><span class="id" title="variable">u</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a><span class="id" title="notation">-</span>1)%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">k'</span> := <span class="id" title="notation">#|</span><a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <span class="id" title="var">u</span><span class="id" title="notation">|</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">uadj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span>: (<span class="id" title="var">k'</span> <span class="id" title="notation">+</span> 1)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">k'</span> -(<span class="id" title="lemma">cards1</span> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a>) -(<a class="idref" href="Friendship.combinatorics.html#regular"><span class="id" title="lemma">regular</span></a> <span class="id" title="var">u</span>) /<a class="idref" href="Friendship.combinatorics.html#deg"><span class="id" title="definition">deg</span></a> -(<a class="idref" href="Friendship.combinatorics.html#adj'_and_tU"><span class="id" title="lemma">adj'_and_tU</span></a> <span class="id" title="var">uadj</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">aoue</span> := (<span class="id" title="lemma">eq_leqif</span> (<span class="id" title="lemma">leq_card_setU</span> (<a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <span class="id" title="var">u</span>) <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a><span class="id" title="notation">]</span>) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Friendship.combinatorics.html#adj'_and_t_disj"><span class="id" title="lemma">adj'_and_t_disj</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">aoue</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">aoue</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> /<span class="id" title="lemma">eqP</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a> <a class="idref" href="Friendship.combinatorics.html#kge1"><span class="id" title="lemma">kge1</span></a> =&gt; [|<span class="id" title="var">k''</span>] //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ssrnat_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="adj_cover" class="idref" href="#adj_cover"><span class="id" title="definition">adj_cover</span></a> :=<span class="id" title="notation">[</span><span class="id" title="notation">set</span> <a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <a class="idref" href="Friendship.combinatorics.html#u:83"><span class="id" title="variable">u</span></a> <span class="id" title="notation">|</span> <a id="u:83" class="idref" href="#u:83"><span class="id" title="binder">u</span></a> <span class="id" title="notation">in</span> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dist2" class="idref" href="#dist2"><span class="id" title="definition">dist2</span></a> := <span class="id" title="definition">cover</span> <a class="idref" href="Friendship.combinatorics.html#adj_cover"><span class="id" title="definition">adj_cover</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="k_not_1" class="idref" href="#k_not_1"><span class="id" title="lemma">k_not_1</span></a> : <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a> <span class="id" title="notation">!=</span> 1%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Bevis:&nbsp;om&nbsp;k&nbsp;=&nbsp;1,&nbsp;r&nbsp;adj&nbsp;T_elem&nbsp;=&nbsp;{a}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Det&nbsp;finns&nbsp;x,&nbsp;x&nbsp;!=&nbsp;T_elem&nbsp;med&nbsp;~~F&nbsp;T_elem&nbsp;x.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;!=&nbsp;a,&nbsp;fr&nbsp;att&nbsp;F&nbsp;T_elem&nbsp;a&nbsp;och&nbsp;~~F&nbsp;T_elem&nbsp;x.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Co&nbsp;x&nbsp;t&nbsp;r&nbsp;granne&nbsp;med&nbsp;t,&nbsp;allts&nbsp;r&nbsp;det&nbsp;a.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Co&nbsp;x&nbsp;t&nbsp;har&nbsp;kant&nbsp;till&nbsp;x,&nbsp;allts&nbsp;har&nbsp;a&nbsp;2&nbsp;kanter,&nbsp;vilket&nbsp;motsger&nbsp;att<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allt&nbsp;har&nbsp;1&nbsp;kant.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a> <span class="id" title="notation">!=</span> 1%<span class="id" title="var">N</span>)) =&gt; //= /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#negb_involutive"><span class="id" title="lemma">Bool.negb_involutive</span></a> =&gt; /<span class="id" title="lemma">eqP</span> <span class="id" title="var">k1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">adj1</span> <span class="id" title="var">u</span>: <span class="id" title="notation">#|</span><a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#u:84"><span class="id" title="variable">u</span></a><span class="id" title="notation">|</span> <span class="id" title="notation">==</span> 1%<span class="id" title="var">N</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>; <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">k1</span> -/(<a class="idref" href="Friendship.combinatorics.html#deg"><span class="id" title="definition">deg</span></a> <span class="id" title="var">u</span>)  (<a class="idref" href="Friendship.combinatorics.html#regular"><span class="id" title="lemma">regular</span></a> <span class="id" title="var">u</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*Definition&nbsp;adj_&nbsp;:=&nbsp;forall&nbsp;v,&nbsp;cards1P&nbsp;(adj1&nbsp;v).*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="lemma">cards1P</span> (<span class="id" title="var">adj1</span> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a>)) =&gt; [<span class="id" title="var">a</span> <span class="id" title="var">seta</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="Friendship.combinatorics.html#no_hub"><span class="id" title="lemma">no_hub</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a>) =&gt; [<span class="id" title="var">x</span> <span class="id" title="var">ftx</span> <span class="id" title="var">tx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">aadj</span> : <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">seta</span> <span class="id" title="lemma">set11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">fta</span> : <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <span class="id" title="var">a</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">aadj</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xa</span> : <span class="id" title="var">x</span> <span class="id" title="notation">!=</span> <span class="id" title="var">a</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">x</span> <span class="id" title="notation">!=</span> <span class="id" title="var">a</span>)) =&gt; //= /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#negb_involutive"><span class="id" title="lemma">Bool.negb_involutive</span></a> =&gt; /<span class="id" title="lemma">eqP</span> <span class="id" title="var">xa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">xa</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ftx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">ftx</span>  =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">fta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">a'</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <span class="id" title="var">x</span> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_sym</span> <span class="id" title="tactic">in</span> <span class="id" title="var">tx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">coF</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Cor"><span class="id" title="variable">Cor</span></a> <span class="id" title="var">tx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">a'adj</span> : <span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> /<span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">a'a</span>: <span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">seta</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a'adj</span>; <span class="id" title="tactic">move</span>: <span class="id" title="var">a'adj</span> =&gt; /<span class="id" title="lemma">set1P</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">uea</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Col"><span class="id" title="variable">Col</span></a> <span class="id" title="var">tx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">a'</span> <span class="id" title="var">a'a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">uea</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xadj</span> : <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <span class="id" title="var">a</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">tadj</span> : <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <span class="id" title="var">a</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="lemma">cards1P</span> (<span class="id" title="var">adj1</span> <span class="id" title="var">a</span>)) =&gt; [<span class="id" title="var">z</span> <span class="id" title="var">setz</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">setz</span> <span class="id" title="tactic">in</span> <span class="id" title="var">xadj</span> <span class="id" title="var">tadj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">xadj</span> =&gt; /<span class="id" title="lemma">set1P</span> <span class="id" title="var">xz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">tadj</span> =&gt; /<span class="id" title="lemma">set1P</span> <span class="id" title="var">tz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">xz</span> <span class="id" title="tactic">in</span> <span class="id" title="var">tz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">tx</span> =&gt; /<span class="id" title="lemma">eqP</span> <span class="id" title="var">tx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">tz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: (<span class="id" title="var">tx</span> <span class="id" title="var">tz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="card_cover" class="idref" href="#card_cover"><span class="id" title="lemma">card_cover</span></a>:  <span class="id" title="notation">#|</span><a class="idref" href="Friendship.combinatorics.html#adj_cover"><span class="id" title="definition">adj_cover</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="Friendship.combinatorics.html#adj_cover"><span class="id" title="definition">adj_cover</span></a> <span class="id" title="lemma">card_in_imset</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> []. } {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w1</span> <span class="id" title="var">w2</span>  <span class="id" title="var">w1adj</span> <span class="id" title="var">w2adj</span> <span class="id" title="var">coeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">disjF</span> := <a class="idref" href="Friendship.combinatorics.html#adj'_disjoint"><span class="id" title="lemma">adj'_disjoint</span></a> <span class="id" title="var">w1adj</span> <span class="id" title="var">w2adj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">w1</span> <span class="id" title="notation">==</span> <span class="id" title="var">w2</span>)) =&gt; //=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; /<span class="id" title="lemma">eqP</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> /<span class="id" title="var">disjF</span> /<span class="id" title="lemma">setDidPl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">coeq</span> <span class="id" title="lemma">setDv</span> =&gt; <span class="id" title="var">w20</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> : <span class="id" title="notation">#|</span><a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <span class="id" title="var">w2</span><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0%<span class="id" title="var">N</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">w20</span> <span class="id" title="lemma">cards0</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Friendship.combinatorics.html#adj'_card"><span class="id" title="lemma">adj'_card</span></a> <span class="id" title="var">w2adj</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">k_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">k1</span> : <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1%<span class="id" title="var">N</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a>  <a class="idref" href="Friendship.combinatorics.html#kge1"><span class="id" title="lemma">kge1</span></a> <span class="id" title="var">k_eq</span> =&gt; [| <span class="id" title="var">k'</span>] //=; <span class="id" title="var">ssrnat_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <a class="idref" href="Friendship.combinatorics.html#k_not_1"><span class="id" title="lemma">k_not_1</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">k1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt;  /<span class="id" title="lemma">eqP</span>; <span class="id" title="tactic">clear</span>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="disjoint_cover" class="idref" href="#disjoint_cover"><span class="id" title="lemma">disjoint_cover</span></a> : <span class="id" title="definition">trivIset</span> <a class="idref" href="Friendship.combinatorics.html#adj_cover"><span class="id" title="definition">adj_cover</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">trivIsetP</span> =&gt; <span class="id" title="var">A</span> <span class="id" title="var">B</span> /<span class="id" title="lemma">imsetP</span> [<span class="id" title="var">u</span> <span class="id" title="var">ut</span>] -&gt; /<span class="id" title="lemma">imsetP</span> [<span class="id" title="var">v</span> <span class="id" title="var">vt</span>] -&gt; <span class="id" title="var">sets_diff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">u</span> <span class="id" title="notation">!=</span> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">uv</span>; <span class="id" title="tactic">exact</span> (<a class="idref" href="Friendship.combinatorics.html#adj'_disjoint"><span class="id" title="lemma">adj'_disjoint</span></a> <span class="id" title="var">ut</span> <span class="id" title="var">vt</span> <span class="id" title="var">uv</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> /<span class="id" title="lemma">eqP</span> <span class="id" title="var">uv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">uv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sets_diff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">sets_diff</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_refl</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dist2_card" class="idref" href="#dist2_card"><span class="id" title="lemma">dist2_card</span></a> : <span class="id" title="notation">#|</span><a class="idref" href="Friendship.combinatorics.html#dist2"><span class="id" title="definition">dist2</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a><span class="id" title="notation">*(</span><a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a><span class="id" title="notation">-</span>1<span class="id" title="notation">)</span>)%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> := (<span class="id" title="lemma">eq_leqif</span> (<span class="id" title="lemma">leq_card_cover</span> <a class="idref" href="Friendship.combinatorics.html#adj_cover"><span class="id" title="definition">adj_cover</span></a>) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#disjoint_cover"><span class="id" title="lemma">disjoint_cover</span></a> /<a class="idref" href="Friendship.combinatorics.html#dist2"><span class="id" title="definition">dist2</span></a>; <span class="id" title="tactic">move</span>=&gt; /<span class="id" title="lemma">eqP</span> -&gt; .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">eq_bigr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">fun</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">=&gt;</span></a> (<a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a><span class="id" title="notation">-</span>1)%<span class="id" title="var">N</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_const</span> <span class="id" title="lemma">iter_addn_0</span> [<span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.RHS"><span class="id" title="abbreviation">RHS</span></a>]<span class="id" title="lemma">mulnC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="Friendship.combinatorics.html#card_cover"><span class="id" title="lemma">card_cover</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">A</span> /<span class="id" title="lemma">imsetP</span> [<span class="id" title="var">v</span> <span class="id" title="var">vt</span>] -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="Friendship.combinatorics.html#adj'_card"><span class="id" title="lemma">adj'_card</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="adjT_subs_cover" class="idref" href="#adjT_subs_cover"><span class="id" title="lemma">adjT_subs_cover</span></a>: <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">subset</span> <a class="idref" href="Friendship.combinatorics.html#dist2"><span class="id" title="definition">dist2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">subsetE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">pred0P</span> =&gt; <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="definition">inE</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negPf"><span class="id" title="lemma">negPf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [ <span class="id" title="var">xd</span> <span class="id" title="var">ftx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">y</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xt</span> : <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <span class="id" title="notation">!=</span> <span class="id" title="var">x</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <span class="id" title="notation">!=</span> <span class="id" title="var">x</span>)) =&gt; //= /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negPn"><span class="id" title="lemma">negPn</span></a> /<span class="id" title="lemma">eqP</span> <span class="id" title="var">tx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">tx</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Firr"><span class="id" title="variable">Firr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ftx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ty</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Col"><span class="id" title="variable">Col</span></a> <span class="id" title="var">xt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xy</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Cor"><span class="id" title="variable">Cor</span></a> <span class="id" title="var">xt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ty</span> <span class="id" title="var">xy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xadjy</span> : <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <span class="id" title="var">y</span>. { <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_sym</span> <span class="id" title="tactic">in</span> <span class="id" title="var">xt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">xt</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">Bool.andb_true_r</span></a> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="Friendship.combinatorics.html#dist2"><span class="id" title="definition">dist2</span></a> /<span class="id" title="definition">cover</span> <span class="id" title="tactic">in</span> <span class="id" title="var">xd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">xd</span> =&gt; /<span class="id" title="lemma">bigcupP</span> <span class="id" title="var">notin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">notin</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="Friendship.combinatorics.html#adj_cover"><span class="id" title="definition">adj_cover</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<span class="id" title="lemma">imsetP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="adjT_cover_noT" class="idref" href="#adjT_cover_noT"><span class="id" title="lemma">adjT_cover_noT</span></a>: <span class="id" title="notation">[</span><span class="id" title="notation">disjoint</span> <a class="idref" href="Friendship.combinatorics.html#dist2"><span class="id" title="definition">dist2</span></a> <span class="id" title="notation">&amp;</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a><span class="id" title="notation">]</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">disjoint_sym</span> /<a class="idref" href="Friendship.combinatorics.html#dist2"><span class="id" title="definition">dist2</span></a> /<span class="id" title="definition">cover</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<span class="id" title="lemma">bigcup_disjointP</span> =&gt; <span class="id" title="var">A</span> /<span class="id" title="lemma">imsetP</span>[<span class="id" title="var">u</span> <span class="id" title="var">ut</span>] -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">disjoint_sym</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="Friendship.combinatorics.html#adj'_and_t_disj"><span class="id" title="lemma">adj'_and_t_disj</span></a> <span class="id" title="var">ut</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="all_covered" class="idref" href="#all_covered"><span class="id" title="lemma">all_covered</span></a> : <span class="id" title="notation">[</span><span class="id" title="notation">set</span><span class="id" title="notation">:</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T"><span class="id" title="variable">T</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>  <a class="idref" href="Friendship.combinatorics.html#dist2"><span class="id" title="definition">dist2</span></a> <span class="id" title="notation">:|:</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">setP</span> =&gt; <span class="id" title="var">x</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <span class="id" title="notation">==</span> <span class="id" title="var">x</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; /<span class="id" title="lemma">eqP</span> &lt;-; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">set1Ur</span>. } {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> <span class="id" title="var">tx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">y</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xy</span> : <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <span class="id" title="var">y</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">yx</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Col"><span class="id" title="variable">Col</span></a> <span class="id" title="var">tx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">yt</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Cor"><span class="id" title="variable">Cor</span></a> <span class="id" title="var">tx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a> <span class="id" title="var">yt</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#andb_true_l"><span class="id" title="lemma">Bool.andb_true_l</span></a> <span class="id" title="lemma">eq_sym</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">setUP</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="Friendship.combinatorics.html#dist2"><span class="id" title="definition">dist2</span></a> /<span class="id" title="definition">cover</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<span class="id" title="lemma">bigcupP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="Friendship.combinatorics.html#adj'"><span class="id" title="definition">adj'</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="Friendship.combinatorics.html#adj_cover"><span class="id" title="definition">adj_cover</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<span class="id" title="lemma">imsetP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.Col"><span class="id" title="variable">Col</span></a> <span class="id" title="var">tx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="T_size" class="idref" href="#T_size"><span class="id" title="lemma">T_size</span></a>: <a class="idref" href="Friendship.combinatorics.html#n"><span class="id" title="definition">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ((<a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a><span class="id" title="notation">*(</span><a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a><span class="id" title="notation">-</span>1<span class="id" title="notation">)</span>)%<span class="id" title="var">N</span> <span class="id" title="notation">+</span> 1)%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="Friendship.combinatorics.html#n"><span class="id" title="definition">n</span></a> -<a class="idref" href="Friendship.combinatorics.html#dist2_card"><span class="id" title="lemma">dist2_card</span></a>  -(<span class="id" title="lemma">cards1</span> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">full_card</span> := (<span class="id" title="lemma">eq_leqif</span> (<span class="id" title="lemma">leq_card_setU</span> <a class="idref" href="Friendship.combinatorics.html#dist2"><span class="id" title="definition">dist2</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a><span class="id" title="notation">]</span>) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#adjT_cover_noT"><span class="id" title="lemma">adjT_cover_noT</span></a>  <span class="id" title="tactic">in</span> <span class="id" title="var">full_card</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">full_card</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> /<span class="id" title="lemma">eqP</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#all_covered"><span class="id" title="lemma">all_covered</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nk" class="idref" href="#nk"><span class="id" title="lemma">nk</span></a>: <a class="idref" href="Friendship.combinatorics.html#n"><span class="id" title="definition">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a><span class="id" title="notation">*</span><a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a> <span class="id" title="notation">-</span> <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a> <span class="id" title="notation">+</span> 1)%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#T_size"><span class="id" title="lemma">T_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a> <a class="idref" href="Friendship.combinatorics.html#kge1"><span class="id" title="lemma">kge1</span></a> =&gt; [| <span class="id" title="var">k'</span>] //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">ssrnat_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="A2_off_diag" class="idref" href="#A2_off_diag"><span class="id" title="lemma">A2_off_diag</span></a> <a id="i:85" class="idref" href="#i:85"><span class="id" title="binder">i</span></a> <a id="j:86" class="idref" href="#j:86"><span class="id" title="binder">j</span></a>:  <a class="idref" href="Friendship.combinatorics.html#i:85"><span class="id" title="variable">i</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#j:86"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="Friendship.combinatorics.html#A"><span class="id" title="definition">A</span></a><span class="id" title="notation">*</span><span class="id" title="notation">m</span> <a class="idref" href="Friendship.combinatorics.html#A"><span class="id" title="definition">A</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">i</span> <span class="id" title="notation">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1<span class="id" title="notation">%:</span><span class="id" title="notation">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">ij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">mulmx</span> !<span class="id" title="lemma">mxE</span> /<a class="idref" href="Friendship.combinatorics.html#A"><span class="id" title="definition">A</span></a> //=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="lemma">eq_bigr</span> (<span class="id" title="keyword">fun</span> <a id="7325c6ce06319c9980aae2a33bcec506" class="idref" href="#7325c6ce06319c9980aae2a33bcec506"><span class="id" title="binder"></span></a>=&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> (<span class="id" title="definition">enum_val</span> <span class="id" title="var">i</span>) (<span class="id" title="definition">enum_val</span> <a class="idref" href="Friendship.combinatorics.html#f99b8b6353560e5be6ecf8a0c7624a6e"><span class="id" title="variable"></span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> (<span class="id" title="definition">enum_val</span> <a class="idref" href="Friendship.combinatorics.html#f99b8b6353560e5be6ecf8a0c7624a6e"><span class="id" title="variable"></span></a>) (<span class="id" title="definition">enum_val</span> <span class="id" title="var">j</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> 0)) -/<a class="idref" href="Friendship.combinatorics.html#nn"><span class="id" title="definition">nn</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">bigID</span> (<span class="id" title="keyword">fun</span> <a id="cdb61ee90d4ad4e898ac6add290ed860" class="idref" href="#cdb61ee90d4ad4e898ac6add290ed860"><span class="id" title="binder"></span></a>=&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> (<span class="id" title="definition">enum_val</span> <span class="id" title="var">i</span>) (<span class="id" title="definition">enum_val</span> <a class="idref" href="Friendship.combinatorics.html#f89a02dbca914e38212fb59e93eb0309"><span class="id" title="variable"></span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> (<span class="id" title="definition">enum_val</span> <a class="idref" href="Friendship.combinatorics.html#f89a02dbca914e38212fb59e93eb0309"><span class="id" title="variable"></span></a>) (<span class="id" title="definition">enum_val</span> <span class="id" title="var">j</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>)) //= -/<a class="idref" href="Friendship.combinatorics.html#nn"><span class="id" title="definition">nn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <a class="idref" href="Friendship.combinatorics.html#X:93"><span class="id" title="variable">X</span></a> <span class="id" title="notation">+</span> <span class="id" title="var">_</span>](<span class="id" title="lemma">eq_bigr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">fun</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">=&gt;</span></a> 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span> <span class="id" title="notation">+</span> <a class="idref" href="Friendship.combinatorics.html#X:94"><span class="id" title="variable">X</span></a>](<span class="id" title="lemma">eq_bigr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">fun</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">=&gt;</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">GRing.sumr_const</span> <span class="id" title="lemma">GRing.mul0rn</span> <span class="id" title="lemma">GRing.addr0</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">x</span> := <span class="id" title="definition">enum_val</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">y</span> := <span class="id" title="definition">enum_val</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">z</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Co"><span class="id" title="variable">Co</span></a> (<span class="id" title="definition">enum_val</span> <span class="id" title="var">i</span>) (<span class="id" title="definition">enum_val</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xy</span>: <span class="id" title="var">x</span> <span class="id" title="notation">!=</span> <span class="id" title="var">y</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">x</span> <span class="id" title="notation">!=</span> <span class="id" title="var">y</span>)) =&gt; //= /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#negb_involutive"><span class="id" title="lemma">Bool.negb_involutive</span></a> =&gt; /<span class="id" title="lemma">eqP</span> <span class="id" title="var">xy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">enum_val_inj</span> <span class="id" title="var">xy</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">ij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">ij</span> =&gt; /<span class="id" title="lemma">eqP</span>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="lemma">cards1</span> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(@<span class="id" title="lemma">card_imset</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="definition">enum_val</span> <span class="id" title="var">_</span> <span class="id" title="lemma">enum_val_inj</span>) //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">setP</span> =&gt; <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="definition">inE</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Fxz</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Col"><span class="id" title="variable">Col</span></a> <span class="id" title="var">xy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Fyz</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Cor"><span class="id" title="variable">Cor</span></a> <span class="id" title="var">xy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">z</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Fxz</span> <span class="id" title="var">Fyz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Fyz</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">t</span> <span class="id" title="notation">==</span> <span class="id" title="var">z</span>)) =&gt; <span class="id" title="var">tz</span> ; <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /(@<span class="id" title="lemma">imsetP</span> (<span class="id" title="definition">ordinal_finType</span> <a class="idref" href="Friendship.combinatorics.html#nn"><span class="id" title="definition">nn</span></a>) <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T"><span class="id" title="variable">T</span></a> <span class="id" title="definition">enum_val</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="definition">enum_rank</span> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#in_mem"><span class="id" title="definition">in_mem</span></a> //= <span class="id" title="lemma">enum_rankK</span> <span class="id" title="var">Fxz</span> <span class="id" title="var">Fyz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">tz</span> =&gt; /<span class="id" title="lemma">eqP</span> -&gt;; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">enum_rankK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; /(@<span class="id" title="lemma">imsetP</span> (<span class="id" title="definition">ordinal_finType</span> <a class="idref" href="Friendship.combinatorics.html#nn"><span class="id" title="definition">nn</span></a>) <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T"><span class="id" title="variable">T</span></a> <span class="id" title="definition">enum_val</span> ) [<span class="id" title="var">jj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#in_mem"><span class="id" title="definition">in_mem</span></a> //= =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">fxjj</span> <span class="id" title="var">fjjy</span>] <span class="id" title="var">tjj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Fsym"><span class="id" title="variable">Fsym</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fjjy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">z_uniq</span> := <a class="idref" href="Friendship.combinatorics.html#friendship_sec.CoUnique"><span class="id" title="variable">CoUnique</span></a> <span class="id" title="var">xy</span> <span class="id" title="var">fxjj</span> <span class="id" title="var">fjjy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">tjj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">z_uniq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">z_uniq</span> /<span class="id" title="var">z</span> -/<span class="id" title="var">x</span> -/<span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="var">tz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">eq_refl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">jj</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negPf"><span class="id" title="lemma">negPf</span></a> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">jj</span> -&gt; . {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt;  <span class="id" title="var">jj</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">mxE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> (<span class="id" title="definition">enum_val</span> <span class="id" title="var">i</span>) (<span class="id" title="definition">enum_val</span> <span class="id" title="var">jj</span>)  <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> (<span class="id" title="definition">enum_val</span> <span class="id" title="var">jj</span>) (<span class="id" title="definition">enum_val</span> <span class="id" title="var">j</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="id" title="var">fijj</span> . {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">fijj</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">fijj</span> <span class="id" title="var">fjji</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">fijj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">fjji</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">GRing.mul1r</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">fijj</span>  =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negb_and"><span class="id" title="lemma">negb_and</span></a> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a> <span class="id" title="var">some0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">some0</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negPf"><span class="id" title="lemma">negPf</span></a> -&gt;; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">GRing.mul0r</span> ?<span class="id" title="lemma">GRing.mulr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="adj2_eq" class="idref" href="#adj2_eq"><span class="id" title="lemma">adj2_eq</span></a> : <a class="idref" href="Friendship.combinatorics.html#A"><span class="id" title="definition">A</span></a><span class="id" title="notation">*</span><span class="id" title="notation">m</span> <a class="idref" href="Friendship.combinatorics.html#A"><span class="id" title="definition">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><span class="id" title="definition">const_mx</span> 1<span class="id" title="notation">)</span> <span class="id" title="notation">+</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a><span class="id" title="notation">-</span>1<span class="id" title="notation">)%:</span><span class="id" title="notation">R</span><span class="id" title="notation">%:</span><span class="id" title="notation">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">matrixP</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">j</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<span class="id" title="lemma">eqP</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#A2_diag"><span class="id" title="lemma">A2_diag</span></a> !<span class="id" title="lemma">mxE</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_refl</span> <span class="id" title="lemma">GRing.mulr1n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a> <a class="idref" href="Friendship.combinatorics.html#kge1"><span class="id" title="lemma">kge1</span></a> =&gt; [|<span class="id" title="var">k'</span>] //= <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt; : (<span class="id" title="var">k'</span><span class="id" title="notation">.+1</span><span class="id" title="notation">-</span>1)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k'</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ssrnat_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt; : <span class="id" title="var">k'</span><span class="id" title="notation">.+1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (1<span class="id" title="notation">+</span><span class="id" title="var">k'</span>)%<span class="id" title="var">N</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ssrnat_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">GRing.natrD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /<span class="id" title="lemma">eqP</span> <span class="id" title="var">ij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#A2_off_diag"><span class="id" title="lemma">A2_off_diag</span></a> //= !<span class="id" title="lemma">mxE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#introFn"><span class="id" title="lemma">introFn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> <span class="id" title="var">ij</span>) <span class="id" title="lemma">GRing.mulr0n</span> <span class="id" title="lemma">GRing.addr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="n_eq" class="idref" href="#n_eq"><span class="id" title="lemma">n_eq</span></a>: <a class="idref" href="Friendship.combinatorics.html#nn"><span class="id" title="definition">nn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Friendship.combinatorics.html#n"><span class="id" title="definition">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="Friendship.combinatorics.html#nn"><span class="id" title="definition">nn</span></a> /<a class="idref" href="Friendship.combinatorics.html#n"><span class="id" title="definition">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cardsE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cast_eq" class="idref" href="#cast_eq"><span class="id" title="lemma">cast_eq</span></a>:  <a class="idref" href="Friendship.combinatorics.html#nn"><span class="id" title="definition">nn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (1<span class="id" title="notation">+(</span><a class="idref" href="Friendship.combinatorics.html#n"><span class="id" title="definition">n</span></a><span class="id" title="notation">-</span>1<span class="id" title="notation">)</span>)%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#n_eq"><span class="id" title="lemma">n_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <a class="idref" href="Friendship.combinatorics.html#n"><span class="id" title="definition">n</span></a> <a class="idref" href="Friendship.combinatorics.html#nge1"><span class="id" title="lemma">nge1</span></a> =&gt; [| <span class="id" title="var">n'</span>] //=; <span class="id" title="var">ssrnat_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="A'" class="idref" href="#A'"><span class="id" title="definition">A'</span></a> := (<span class="id" title="definition">castmx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#cast_eq"><span class="id" title="lemma">cast_eq</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Friendship.combinatorics.html#cast_eq"><span class="id" title="lemma">cast_eq</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Friendship.combinatorics.html#A"><span class="id" title="definition">A</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Can't&nbsp;I&nbsp;use&nbsp;the&nbsp;previously&nbsp;proven&nbsp;version&nbsp;?!&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="A'_tr" class="idref" href="#A'_tr"><span class="id" title="lemma">A'_tr</span></a> : <span class="id" title="notation">\</span><span class="id" title="notation">tr</span> <a class="idref" href="Friendship.combinatorics.html#A'"><span class="id" title="definition">A'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.matrix_casts.html#tr_castmx"><span class="id" title="lemma">tr_castmx</span></a> /<span class="id" title="definition">mxtrace</span> (<span class="id" title="lemma">eq_bigr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">fun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#94502d422d70bbaf4f390946d9885b7c"><span class="id" title="notation">=&gt;</span></a> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">big_const_ord</span>  <span class="id" title="lemma">GRing.iter_addr</span> <span class="id" title="lemma">GRing.addr0</span> <span class="id" title="lemma">GRing.mul0rn</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">i</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#A_diag"><span class="id" title="lemma">A_diag</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Asqrt" class="idref" href="#Asqrt"><span class="id" title="lemma">Asqrt</span></a> : <a class="idref" href="Friendship.adj2_matrix.html#is_square_root"><span class="id" title="definition">is_square_root</span></a> <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a> <a class="idref" href="Friendship.combinatorics.html#A'"><span class="id" title="definition">A'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="Friendship.adj2_matrix.html#is_square_root"><span class="id" title="definition">is_square_root</span></a> /<a class="idref" href="Friendship.adj2_matrix.html#adj2"><span class="id" title="definition">adj2</span></a>  /<a class="idref" href="Friendship.combinatorics.html#A'"><span class="id" title="definition">A'</span></a> -<a class="idref" href="Friendship.matrix_casts.html#mulmx_castmx"><span class="id" title="lemma">mulmx_castmx</span></a>  <a class="idref" href="Friendship.combinatorics.html#adj2_eq"><span class="id" title="lemma">adj2_eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Friendship.matrix_casts.html#summx_castmx"><span class="id" title="lemma">summx_castmx</span></a> <span class="id" title="lemma">castmx_const</span> <a class="idref" href="Friendship.matrix_casts.html#scalar_mx_castmx"><span class="id" title="lemma">scalar_mx_castmx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="k_not_2" class="idref" href="#k_not_2"><span class="id" title="lemma">k_not_2</span></a>: <a class="idref" href="Friendship.combinatorics.html#k"><span class="id" title="definition">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 2%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">t</span> := <a class="idref" href="Friendship.combinatorics.html#T_elem"><span class="id" title="definition">T_elem</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;proof:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;k&nbsp;=&nbsp;2,&nbsp;|adj&nbsp;t|&nbsp;=&nbsp;2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|adj&nbsp;t|&nbsp;is&nbsp;not&nbsp;empty,&nbsp;so&nbsp;there&nbsp;exists&nbsp;a&nbsp;&nbsp;adj&nbsp;t<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;some&nbsp;lemma&nbsp;should&nbsp;give&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>&nbsp;\subset&nbsp;adj&nbsp;t&nbsp;and<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;adj&nbsp;t&nbsp;=&nbsp;(adj&nbsp;t&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>)&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>&nbsp;as&nbsp;a&nbsp;disjoint&nbsp;union.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;By&nbsp;disjointness&nbsp;and&nbsp;'card',&nbsp;|adj&nbsp;t&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>|&nbsp;=&nbsp;1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thus&nbsp;|adj&nbsp;t&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>|&nbsp;=&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;(adj&nbsp;t&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>),&nbsp;therefore&nbsp;a&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span>,&nbsp;therfore&nbsp;a&nbsp;&nbsp;b.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Then&nbsp;adj&nbsp;t&nbsp;=&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span>&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>&nbsp;with&nbsp;a&nbsp;!=&nbsp;b,&nbsp;so&nbsp;adj&nbsp;t&nbsp;=&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span>,</span> <span class="inlinecode"><span class="id" title="var">b</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;have&nbsp;F&nbsp;t&nbsp;a&nbsp;and&nbsp;F&nbsp;t&nbsp;b,&nbsp;since&nbsp;both&nbsp;are&nbsp;in&nbsp;adj&nbsp;t.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;It&nbsp;follows&nbsp;that&nbsp;a&nbsp;!=&nbsp;t&nbsp;and&nbsp;b&nbsp;!=&nbsp;t&nbsp;(we&nbsp;already&nbsp;had&nbsp;a&nbsp;!=&nbsp;b).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;There&nbsp;is&nbsp;x&nbsp;&nbsp;adj&nbsp;t&nbsp;with&nbsp;x&nbsp;&nbsp;t&nbsp;by&nbsp;the&nbsp;'no_hub'&nbsp;property.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;have&nbsp;xa,&nbsp;xb,&nbsp;because&nbsp;otherwise&nbsp;we&nbsp;would&nbsp;have&nbsp;(e.g.)&nbsp;both<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F&nbsp;t&nbsp;a&nbsp;and&nbsp;~~F&nbsp;t&nbsp;a.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Therefore&nbsp;all&nbsp;a,&nbsp;b,&nbsp;t,&nbsp;x&nbsp;are&nbsp;different,&nbsp;I&nbsp;think&nbsp;we&nbsp;can&nbsp;prove<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uniq&nbsp;<span class="inlinecode"><span class="id" title="var">a</span>,</span> <span class="inlinecode"><span class="id" title="var">b</span>,</span> <span class="inlinecode"><span class="id" title="var">c</span>,</span> <span class="inlinecode"><span class="id" title="var">d</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;lemma&nbsp;implies&nbsp;|[set a, b, c, d]| = 4.
        But by some lemma |A&nbsp;:&nbsp;{set&nbsp;T}|&nbsp;&lt;=&nbsp;|T| = 3, so 4 <= 3.
        Contradiction!
       *)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">k2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">n3</span> : <a class="idref" href="Friendship.combinatorics.html#n"><span class="id" title="definition">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>3%<span class="id" title="var">N</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#nk"><span class="id" title="lemma">nk</span></a> <span class="id" title="var">k2</span>; <span class="id" title="var">ssrnat_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">adj1</span> <span class="id" title="var">u</span>: <span class="id" title="notation">#|</span><a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <a class="idref" href="Friendship.combinatorics.html#u:95"><span class="id" title="variable">u</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 2%<span class="id" title="var">N</span> <span class="comment">(*&nbsp;Every&nbsp;|adj&nbsp;u|&nbsp;is&nbsp;2.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>; <span class="id" title="tactic">rewrite</span> -{}<span class="id" title="var">k2</span> -/(<a class="idref" href="Friendship.combinatorics.html#deg"><span class="id" title="definition">deg</span></a> <span class="id" title="var">u</span>)  (<a class="idref" href="Friendship.combinatorics.html#regular"><span class="id" title="lemma">regular</span></a> <span class="id" title="var">u</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Co</span> <span class="id" title="var">Col</span> <span class="id" title="var">Cor</span> <span class="id" title="var">CoUnique</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> : 0%<span class="id" title="var">N</span> <span class="id" title="notation">&lt;</span> <span class="id" title="notation">#|</span><a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <span class="id" title="var">t</span><span class="id" title="notation">|</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">adj1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /<span class="id" title="lemma">card_gt0P</span> [<span class="id" title="var">a</span> <span class="id" title="var">a_adj</span>]. <span class="comment">(*&nbsp;there&nbsp;is&nbsp;an&nbsp;'a'&nbsp;in&nbsp;adj&nbsp;t&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">a_sub</span> : <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">a</span><span class="id" title="notation">]</span> <span class="id" title="notation">\</span><span class="id" title="notation">subset</span> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <span class="id" title="var">t</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">sub1set</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;adj&nbsp;t&nbsp;=&nbsp;(adj&nbsp;t&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>)&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>&nbsp;as&nbsp;a&nbsp;disjoint&nbsp;union.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">adjU</span> := <span class="id" title="lemma">setD1K</span> <span class="id" title="var">a_adj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">adjD</span> : <span class="id" title="notation">[</span><span class="id" title="notation">disjoint</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">a</span><span class="id" title="notation">]</span> <span class="id" title="notation">&amp;</span> <span class="id" title="notation">(</span><a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <span class="id" title="var">t</span> <span class="id" title="notation">:\</span> <span class="id" title="var">a</span><span class="id" title="notation">)]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span>  <span class="id" title="lemma">disjoints1</span>; <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negPf"><span class="id" title="lemma">negPf</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">setD11</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;By&nbsp;disjointness&nbsp;and&nbsp;'card',&nbsp;|adj&nbsp;t&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>|&nbsp;=&nbsp;1.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">cta</span> := <span class="id" title="notation">#|</span><a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <span class="id" title="var">t</span> <span class="id" title="notation">:\</span> <span class="id" title="var">a</span><span class="id" title="notation">|</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">cta12</span> : (1 <span class="id" title="notation">+</span> <span class="id" title="var">cta</span>)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 2%<span class="id" title="var">N</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssrmatching.ssrmatching.html#SsrMatchingSyntax.LHS"><span class="id" title="abbreviation">LHS</span></a>](<span class="id" title="lemma">cards1</span> <span class="id" title="var">a</span>) /<span class="id" title="var">cta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">full_card</span> := (<span class="id" title="lemma">eq_leqif</span> (<span class="id" title="lemma">leq_card_setU</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">a</span><span class="id" title="notation">]</span> (<a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <span class="id" title="var">t</span> <span class="id" title="notation">:\</span> <span class="id" title="var">a</span>) ) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">adjD</span> <span class="id" title="tactic">in</span> <span class="id" title="var">full_card</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">full_card</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>  /<span class="id" title="lemma">eqP</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrfun.html#esym"><span class="id" title="definition">esym</span></a> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">adjU</span> <span class="id" title="var">adj1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">cta1</span> : <span class="id" title="var">cta</span> <span class="id" title="notation">==</span> 1%<span class="id" title="var">N</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>; <span class="id" title="tactic">move</span>: <span class="id" title="var">cta12</span>; <span class="id" title="var">ssrnat_lia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Thus&nbsp;|adj&nbsp;t&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>|&nbsp;=&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="lemma">cards1P</span> <span class="id" title="var">cta1</span>) =&gt; [<span class="id" title="var">b</span> <span class="id" title="var">setb</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;a&nbsp;&nbsp;(adj&nbsp;t&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>),&nbsp;therefore&nbsp;a&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span>,&nbsp;therfore&nbsp;a&nbsp;&nbsp;b.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">aNb</span>: <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">b</span><span class="id" title="notation">]</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">disjoints1</span> -<span class="id" title="var">setb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_set1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">aNb</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Then&nbsp;adj&nbsp;t&nbsp;=&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span>&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span>&nbsp;with&nbsp;a&nbsp;!=&nbsp;b,&nbsp;so&nbsp;adj&nbsp;t&nbsp;=&nbsp;<span class="inlinecode"><span class="id" title="tactic">set</span></span> <span class="inlinecode"><span class="id" title="var">a</span>,</span> <span class="inlinecode"><span class="id" title="var">b</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">tab</span> : <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">set</span> <span class="id" title="var">a</span><span class="id" title="notation">;</span> <span class="id" title="var">b</span><span class="id" title="notation">]</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">adjU</span> <span class="id" title="var">setb</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;have&nbsp;F&nbsp;t&nbsp;a&nbsp;and&nbsp;F&nbsp;t&nbsp;b,&nbsp;since&nbsp;both&nbsp;are&nbsp;in&nbsp;adj&nbsp;t.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">badj</span>: <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="Friendship.combinatorics.html#adj"><span class="id" title="definition">adj</span></a> <span class="id" title="var">t</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">tab</span> <span class="id" title="lemma">set22</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">fta</span> : <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span> <span class="id" title="var">a</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a_adj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ftb</span> : <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span> <span class="id" title="var">b</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">badj</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Fneq</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>: <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:96"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#v:97"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#u:96"><span class="id" title="variable">u</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#v:97"><span class="id" title="variable">v</span></a>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">u</span> <span class="id" title="notation">!=</span> <span class="id" title="var">v</span>)) =&gt; //= /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#negb_involutive"><span class="id" title="lemma">Bool.negb_involutive</span></a> =&gt; /<span class="id" title="lemma">eqP</span> -&gt;; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.Firr"><span class="id" title="variable">Firr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;It&nbsp;follows&nbsp;that&nbsp;a&nbsp;!=&nbsp;t&nbsp;and&nbsp;b&nbsp;!=&nbsp;t&nbsp;(we&nbsp;already&nbsp;had&nbsp;a&nbsp;!=&nbsp;b).&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">a_t</span>: <span class="id" title="var">a</span> <span class="id" title="notation">!=</span> <span class="id" title="var">t</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_sym</span> (<span class="id" title="var">Fneq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">fta</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">b_t</span>: <span class="id" title="var">b</span> <span class="id" title="notation">!=</span> <span class="id" title="var">t</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_sym</span> (<span class="id" title="var">Fneq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ftb</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;There&nbsp;is&nbsp;x&nbsp;&nbsp;adj&nbsp;t&nbsp;with&nbsp;x&nbsp;&nbsp;t&nbsp;by&nbsp;the&nbsp;'no_hub'&nbsp;property.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="Friendship.combinatorics.html#no_hub"><span class="id" title="lemma">no_hub</span></a> <span class="id" title="var">t</span>) =&gt; [<span class="id" title="var">x</span> <span class="id" title="var">ftx</span> <span class="id" title="var">tx</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;have&nbsp;xa,&nbsp;xb,&nbsp;because&nbsp;otherwise&nbsp;we&nbsp;would&nbsp;have&nbsp;(for&nbsp;a)&nbsp;both<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F&nbsp;t&nbsp;a&nbsp;and&nbsp;~~F&nbsp;t&nbsp;a.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xa</span>: <span class="id" title="var">x</span> <span class="id" title="notation">!=</span> <span class="id" title="var">a</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">x</span> <span class="id" title="notation">!=</span> <span class="id" title="var">a</span>)) =&gt; //= /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#negb_involutive"><span class="id" title="lemma">Bool.negb_involutive</span></a> =&gt; /<span class="id" title="lemma">eqP</span> <span class="id" title="var">xa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">xa</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ftx</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">ftx</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">fta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xb</span>: <span class="id" title="var">x</span> <span class="id" title="notation">!=</span> <span class="id" title="var">b</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> (<span class="id" title="var">x</span> <span class="id" title="notation">!=</span> <span class="id" title="var">b</span>)) =&gt; //= /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#negb_involutive"><span class="id" title="lemma">Bool.negb_involutive</span></a> =&gt; /<span class="id" title="lemma">eqP</span> <span class="id" title="var">xb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">xb</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ftx</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">ftx</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ftb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;a,&nbsp;b,&nbsp;x,&nbsp;t&nbsp;are&nbsp;unique&nbsp;with&nbsp;'uniq'&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">abxt</span>: <span class="id" title="definition">uniq</span> <span class="id" title="notation">[::</span> <span class="id" title="var">a</span> <span class="id" title="notation">;</span> <span class="id" title="var">b</span><span class="id" title="notation">;</span> <span class="id" title="var">x</span><span class="id" title="notation">;</span> <span class="id" title="var">t</span><span class="id" title="notation">]</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">uniq_pairwise</span> <span class="id" title="lemma">pairwise_cons</span>; <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> //= <span class="id" title="var">aNb</span> <span class="id" title="var">a_t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_sym</span> <span class="id" title="tactic">in</span> <span class="id" title="var">xa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">xa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">pairwise_cons</span>; <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> //= <span class="id" title="var">b_t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_sym</span> <span class="id" title="tactic">in</span> <span class="id" title="var">xb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">xb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">pairwise_cons</span>; <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> //= <span class="id" title="lemma">eq_sym</span> <span class="id" title="var">tx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;A&nbsp;lemma&nbsp;implies&nbsp;|[set a, b, c, d]| = 4. *)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">szabxt</span> := (<span class="id" title="lemma">card_uniqP</span>  <span class="id" title="var">abxt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">sz4</span>: <span class="id" title="definition">size</span> <span class="id" title="notation">[::</span> <span class="id" title="var">a</span><span class="id" title="notation">;</span> <span class="id" title="var">b</span><span class="id" title="notation">;</span> <span class="id" title="var">x</span><span class="id" title="notation">;</span> <span class="id" title="var">t</span><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 4%<span class="id" title="var">N</span> <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">sz4</span> <span class="id" title="tactic">in</span> <span class="id" title="var">szabxt</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;but&nbsp;|[set a, b, c, d]|  is also <= |T|&nbsp;=&nbsp;3&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;But&nbsp;by&nbsp;lemma&nbsp;'max_card'&nbsp;|A : {set T}| <= |T|&nbsp;=&nbsp;3,&nbsp;so&nbsp;4&nbsp;&lt;=&nbsp;3.*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">le43</span>: <span class="id" title="notation">#|</span><span class="id" title="notation">[::</span> <span class="id" title="var">a</span><span class="id" title="notation">;</span> <span class="id" title="var">b</span><span class="id" title="notation">;</span> <span class="id" title="var">x</span><span class="id" title="notation">;</span> <span class="id" title="var">t</span><span class="id" title="notation">]</span><span class="id" title="notation">|</span>  <span class="id" title="notation">&lt;=</span> 3 <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">n3</span> /<a class="idref" href="Friendship.combinatorics.html#n"><span class="id" title="definition">n</span></a> <span class="id" title="lemma">cardsT</span> <span class="id" title="lemma">max_card</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Contradiction!&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">szabxt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">le43</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fls" class="idref" href="#fls"><span class="id" title="lemma">fls</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span> (<a class="idref" href="Friendship.combinatorics.html#k_not_2"><span class="id" title="lemma">k_not_2</span></a> (<a class="idref" href="Friendship.divisibility.html#k_is_2"><span class="id" title="lemma">k_is_2</span></a> <a class="idref" href="Friendship.combinatorics.html#kge1"><span class="id" title="lemma">kge1</span></a> <a class="idref" href="Friendship.combinatorics.html#nge1"><span class="id" title="lemma">nge1</span></a> <a class="idref" href="Friendship.combinatorics.html#Asqrt"><span class="id" title="lemma">Asqrt</span></a> <a class="idref" href="Friendship.combinatorics.html#A'_tr"><span class="id" title="lemma">A'_tr</span></a> <a class="idref" href="Friendship.combinatorics.html#nk"><span class="id" title="lemma">nk</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.assume_contra"><span class="id" title="section">assume_contra</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Just&nbsp;rewriting&nbsp;'fls',&nbsp;which&nbsp;is&nbsp;~(forall&nbsp;u&nbsp;:&nbsp;T,&nbsp;<span class="inlinecode"><span class="id" title="tactic">exists</span></span> <span class="inlinecode"><span class="id" title="var">v</span>,</span> <span class="inlinecode">~~</span> <span class="inlinecode"><span class="id" title="var">F</span></span> <span class="inlinecode"><span class="id" title="var">u</span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode">&amp;&amp;</span> <span class="inlinecode">(<span class="id" title="var">u</span></span> <span class="inlinecode">!=</span> <span class="inlinecode"><span class="id" title="var">v</span>)</span>).*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="exists_hub" class="idref" href="#exists_hub"><span class="id" title="lemma">exists_hub</span></a>: <span class="id" title="notation">[</span><span class="id" title="notation">exists</span> <a id="x:103" class="idref" href="#x:103"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">forall</span> <a id="v:101" class="idref" href="#v:101"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#x:98"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#v:99"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#x:98"><span class="id" title="variable">x</span></a> <a class="idref" href="Friendship.combinatorics.html#v:99"><span class="id" title="variable">v</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">no_hub</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a><span class="id" title="notation">[</span><span class="id" title="notation">forall</span> <a id="u:109" class="idref" href="#u:109"><span class="id" title="binder">u</span></a> <span class="id" title="notation">:</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T"><span class="id" title="variable">T</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">exists</span> <a id="v:107" class="idref" href="#v:107"><span class="id" title="binder">v</span></a> <span class="id" title="notation">:</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T"><span class="id" title="variable">T</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:104"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#v:105"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#u:104"><span class="id" title="variable">u</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#v:105"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> =&gt; /<span class="id" title="lemma">forallP</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">frl_exs</span> := <span class="id" title="keyword">forall</span> <a id="u:118" class="idref" href="#u:118"><span class="id" title="binder">u</span></a> : <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T"><span class="id" title="variable">T</span></a>, <span class="id" title="notation">[</span><span class="id" title="notation">exists</span> <a id="v:121" class="idref" href="#v:121"><span class="id" title="binder">v</span></a> <span class="id" title="notation">:</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.T"><span class="id" title="variable">T</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:110"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#v:111"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#u:110"><span class="id" title="variable">u</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#v:111"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">not_fe</span> :  <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><span class="id" title="var">frl_exs</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span> <a class="idref" href="Friendship.combinatorics.html#fls"><span class="id" title="lemma">fls</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>  <span class="id" title="lemma">negb_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">no_hub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<span class="id" title="lemma">eq_existsb</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="x:138" class="idref" href="#x:138"><span class="id" title="binder">x</span></a>=&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">exists</span> <a id="v:141" class="idref" href="#v:141"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#x:122"><span class="id" title="variable">x</span></a> <a class="idref" href="Friendship.combinatorics.html#v:123"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#x:122"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#v:123"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:142" class="idref" href="#x:142"><span class="id" title="binder">x</span></a>=&gt;  <span class="id" title="notation">[</span><span class="id" title="notation">forall</span> <a id="v:145" class="idref" href="#v:145"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#x:126"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#v:127"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#x:126"><span class="id" title="variable">x</span></a> <a class="idref" href="Friendship.combinatorics.html#v:127"><span class="id" title="variable">v</span></a> <span class="id" title="notation">]</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="tactic">in</span> <span class="id" title="var">no_hub</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_exists</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<span class="id" title="lemma">eq_forallb</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="v:150" class="idref" href="#v:150"><span class="id" title="binder">v</span></a>=&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">(~~</span></a> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">u</span> <a class="idref" href="Friendship.combinatorics.html#v:146"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">u</span> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#v:146"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="v:151" class="idref" href="#v:151"><span class="id" title="binder">v</span></a>=&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">(</span></a><span class="id" title="var">u</span> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#v:147"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">u</span> <a class="idref" href="Friendship.combinatorics.html#v:147"><span class="id" title="variable">v</span></a>)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#negb_and"><span class="id" title="lemma">negb_and</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#negb_involutive"><span class="id" title="lemma">Bool.negb_involutive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#implybE"><span class="id" title="lemma">implybE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Bool.Bool.html#orb_comm"><span class="id" title="lemma">Bool.orb_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="exists_hub_sig" class="idref" href="#exists_hub_sig"><span class="id" title="lemma">exists_hub_sig</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">{</span></a><a id="u:152" class="idref" href="#u:152"><span class="id" title="binder">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">forall</span> <a id="v:153" class="idref" href="#v:153"><span class="id" title="binder">v</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Friendship.combinatorics.html#u:152"><span class="id" title="variable">u</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="Friendship.combinatorics.html#v:153"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Friendship.combinatorics.html#friendship_sec.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Friendship.combinatorics.html#u:152"><span class="id" title="variable">u</span></a> <a class="idref" href="Friendship.combinatorics.html#v:153"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.Init.Specif.html#bc4528e836ab0e91ea7e942fb09e898f"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <a class="idref" href="Friendship.combinatorics.html#exists_hub"><span class="id" title="lemma">exists_hub</span></a> =&gt; /<span class="id" title="lemma">existsP</span> /<span class="id" title="lemma">sigW</span> [<span class="id" title="var">u</span> /<span class="id" title="lemma">forallP</span> <span class="id" title="var">prop</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">u</span> =&gt; <span class="id" title="var">v</span> <span class="id" title="var">unv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">propv</span> := <span class="id" title="var">prop</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">unv</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.1/stdlib//Coq.ssr.ssrbool.html#implyTb"><span class="id" title="lemma">implyTb</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">propv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Friendship.combinatorics.html#friendship_sec"><span class="id" title="section">friendship_sec</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
